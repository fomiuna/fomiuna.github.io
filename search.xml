<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>《86-不存在的战区》——比起轻小说更像普通文学，很值得一读的轻小说</title>
    <url>/2021/01/18/EightySix_comment_s/</url>
    <content><![CDATA[<h2 id="惯例的开场白">惯例的开场白</h2>
<p>  说来也巧，虽然很早就知道这部作品但一直没读过，因为轻之国度的答题外加听说 4 月份动画化了，外加近期被《弱势角色友崎君》恶心得够呛<em>（说是要继续看完，但终究还是失去了动力）</em>，所以才打算在动画化之前把这系列作品读一遍。读完获得“电击小说大赏”的第一卷，不禁感慨电击文库的作品的含金量比 GAGAGA 文库不知道高多少!</p>
<a id="more"></a>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><img src="/images/EightySix_1.jpg" width="50%"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><em>小说第一卷的封面，女主芙拉迪蕾娜·米利泽和男主辛耶·诺赞伸手相望还以为这又是一卷快速拉郎配的作品，看完才知道这俩人关系就没多深，话说这算不算是封面欺诈？另外，女主瞩目的吊带袜是因为作者自己的 XP，能在后记第一句就表明，这作者也蛮猛的</em></td>
</tr>
</tbody>
</table>
<!-- ![小说第一卷的封面，女主芙拉迪蕾娜·米利泽和男主辛耶·诺赞伸手相望还以为这又是一卷快速拉郎配的作品，看完才知道这俩人关系就没多深，话说这算不算是封面欺诈？另外，女主瞩目的吊带袜是因为作者自己的XP，能在后记第一句就表明，这作者也蛮猛的](EightySix 1.jpg) -->
<h2 id="对于第一卷本身的感想">对于第一卷本身的感想</h2>
<p>  作为故事开头的第一卷，世界观宏大，设定出色丰富，尤其是 I-IV 老师（代表作《Aldnoah. Zero》的火星军，《异度之刃2》的机设）负责的机设，反派的设计颇有一种从《异度之刃》片场走过来的错觉<em>（明明负责的是 2 的机设）</em>；剧情内容涉及政治制度、人种问题、特殊环境下的亲情、战友情等，范围面广，并且在当下 acg 作品中也比较有深度；展开精彩紧凑，所有情节紧扣核心，毫不拖泥带水，甚至连轻小说必有的男女感情培养都是蜻蜓点水；人设和塑造完全为了剧情服务，不会让人完全的接受不能<em>（大概，一丁点，没有内涵弱角友崎的意识）</em>，重要的角色该死就死，有老动画内味儿了嗷。至于到底讲了什么，我觉得以我的语文水平很难在不丢失精华的条件下，概括出这作品的梗概<em>（还有防剧透的原因，至于是不是懒，就请大家各自体会了（笑））</em>，更建议感兴趣的朋友可以读一下，反正一卷也就3个小时不到就能看完，条件允许的话我甚至还可以出借实体书（天闻角川的简体一本 25 块左右，自己购买也是可以的，<em>天闻角川打钱吧！</em>）。</p>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><img src="/images/EightySix_2.jpg" width="70%"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><em>小说剧情最后的互相敬礼，明明剧情上说女主经历了很多，还被冠以“女王”之名，但看起来还是和原来的无知少女一样，不知道剧情的还以为情侣久违地相见呢？我个人倒是很喜欢这张图，实体书是分页设计就很是残念</em></td>
</tr>
</tbody>
</table>
<!-- ![小说剧情最后的互相敬礼，明明剧情上说女主经历了很多，还被冠以“女王”之名，但看起来还是和原来的无知少女一样，不知道剧情的还以为情侣久违地相见呢？我个人倒是很喜欢这张图，实体书是分页设计就很是残念](EightySix 2.jpg) -->
<p>  这作品的优点很多，但缺点其实也比较明显。<strong>故事上</strong>因为篇幅限制导致大多数剧情其实一两句话就交代了，致使很难深刻把握人物感情上的变化，大多数东西都停留在纸面上，当然像我这种 acg 入脑，脑补能力贼强倒是能 get 到一些点。<strong>叙事上</strong>比起传统的一个或者两个固定视角的做法，视角切换过于频繁，外加日语”不喜欢加主语“的习惯，有时候到底是谁说的谁想的，都很难分辨清楚；你说这是群像剧呢？最后人都没剩下几个。你说这是主次分明的剧呢？视点隔三岔五换来换去的看得真让人眼花缭乱。这个时候反倒是让我不得不佩服成田良悟的笔力了<em>（代表作《永生之酒》《无头骑士异闻录》）</em>。除外就是<strong>人设上</strong>太服务剧情（指比起让人物增添受欢迎的元素，更着重剧情上的作用）导致每个出场人物不够饱满。主角队到剧情 2/3 处人名还没记住，就死了只剩下 5 个。女主姬友的存在感让我不禁担心后面几卷真的会出现吗，明明还有男主青梅竹马的 FLAG 。作为第 1 卷核心塑造的女主因为缺乏对她能力的详细展示，读下来花瓶感相当重，并且因为哭的次数太多（短短一本哭了至少 3 次），设置人设上还增添了一份负面色彩（虽然满符合剧情设定就是了），最后读者了解到女主因为和”先锋队“接触之后彻底改变了的时候故事就结束了。而男主辛又感觉晦涩难懂了很多，作为轻小说这种娱乐作品的男主，我对他的印象就是能冷静应对各种状况，一人能在战场上无双的老兵外加家暴 PTSD；可能是我只读了一遍且读得比较快的原因，男主很多时候的感情表现老实说不容易像女主那般浅显易懂，比如为啥跟自己老哥对决还能笑，一边能实现自己”送葬“的期望，一边享受战斗本身？这种令我理解费劲的地方还挺多的。</p>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><img src="/images/EightySix_3.jpg" width="70%"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><em>小说彩页的主角队介绍，这里的人除了凯耶之外，几句话就交代了死亡了，甚至大多数角色的死亡只体现在数字上，活脱脱的死亡名单留影 wwww，不禁让人想象动画播出的时候观众来猜死亡顺序和幸存人员的场景了，再恶意一点，没准动画每集最后官方都会那张合影来显示幸存人员，和《弹丸论破》一样在死亡人员头上打× wwwww</em></td>
</tr>
</tbody>
</table>
<!-- ![小说彩页的主角队介绍，这里的人除了凯耶之外，几句话就交代了死亡了，甚至大多数角色的死亡只体现在数字上，活脱脱的死亡名单留影 wwww，不禁让人想象动画播出的时候观众来猜死亡顺序和幸存人员的场景了，再恶意一点，没准动画每集最后官方都会那张合影来显示幸存人员，和《弹丸论破》一样在死亡人员头上打× wwwww](EightySix 3.jpg) -->
<p>  坏话说了那么多<em>（作品粉丝收起了自己的 40m 长刀）</em>，单纯是因为以上是基于一个故事完整的短篇小说来看的，但实际上这些缺点瑕不掩瑜，作为大奖作品足够优秀了，故事依然十分有趣。如果是作为轻小说的第一卷来看的话，反倒是惊艳得不禁让人担心后续能保持这样得质量吗？</p>
<h2 id="以动画改编的胡思乱想作为结尾">以动画改编的胡思乱想作为结尾</h2>
<p>  其实就这部分我原本想从自己看过的很多作品对比来展开来写的。想想自己也不是什么业内人士，平时也没有什么专业的知识储备和观点，这样大谈特谈还没出改编动画真的好吗？不过，看 PV 及其评论的时候呼声很高的“如果只做第一卷的内容，这部动画必定是霸权了”之类的云云，让我忍不住想要胡思乱想。如果这作品做第一卷的内容，我觉得这动画可能注定不会普遍让大多数人接受。不是说题材小众，设定太复杂了之类的，说白了就是这个动画的卖相一般，卖点太少：</p>
<ul>
<li>最容易吸引眼球、秀制作秀演出的战斗少：除开序章，第一卷能拿得出手也就两场；</li>
<li>人设太着重服务剧情：大多人数形象不够立体，较为立体的女主不容易快速获得观众好感，当然会因为女主外表而“三观跟着五感走”的就另当别论了；</li>
<li>所涉及的题材太敏感：设定上的政治指向性比高达 UC 纪元系列都明显，很容易与现实相结合然后因为不合理的地方被声讨，而轻小说这种娱乐作品的不合理本来就是必然的。</li>
</ul>
<p>  诸上原因，让我觉得这一卷的内容想要做的十分精彩，要么就得加入后几卷的一些剧情来丰富第一卷的在剧情上节奏的不足，比如《刀剑神域》，SAO 的部分其实包含了有第一卷的主线和第二卷的各种短篇<em>（看过原作的应该都知道）</em>，就剧情完成度上，我个人更喜欢 ALO 部分的剧情：桐亚深厚的感情，莉法的感情纠结，同时”剧情到了，氛围到了，BGM 起，唯心挂就来了“<em>（如果没有最后川原砾的恶趣味的话）</em>。或者原创原剧情中原本一笔带过的部分来调整原作剧情节奏的不足，如《Fate/Zero》前期就加入了各种打斗冲淡了剧情本身无聊。如果是前者，就必须压缩一定的剧情来给后面的内容腾出空间，删去一些第一卷中的一些精华部分，届时意见最大的是原作粉丝吧<em>（笑）</em>；如果是后者，就得相当考验动画制作组的决策和发挥水平了，索性就让原作者来参与动画制作吧，就像《路人女主的养成方法》，《我的妹妹不可能这么可爱》一样，没准还能抽到上上签做成《樱花庄的宠物女孩》这种标杆级轻改呢？<em>（然后被政治敏感埋葬在黑暗中 wwwww）</em></p>
<p>  如果不相信“只做第一卷的动画内容质量一般”的话，我强烈推荐看看《零之魔法书》、《有顶天家族》、《我想要吃掉你的胰脏》等原作较优秀的改编动画，我作为粉丝个人还是很买账，但具体观感见仁见智吧，毕竟都是没多少人讨论的冷门动画<em>（安利的难度就不说了……）</em>，更何况“胰脏”还是大约 TV 六集容量的动画电影。人设完成为剧情服务的优秀作品我推荐《A.I.C.O. -Incarnation》，网飞投资的原创，最后扑街得连作品的影子都见不到了，更别说讨论了。其实《re：从零开始的异世界》前期就有这种“人设服务于剧情“的感觉，毕竟作为女主的艾米莉亚在人气方面被中期因为作者感情问题暴走而塑造的雷姆碾压，并且BD效量不佳啊……话说回来，同样的长直白发，前期思想简单的，突然觉得 86 就算只做一卷，女主芙蕾人气应该也不会低就是了。</p>
<p>  不过动画究竟怎么样，还是得 4 月开播之后见分晓吧，我个人还是很期待的。PV 和 op 试听也循环了好几遍，配乐还是那个泽野味儿。这次算是我篇幅最短的博文了，总之，小说我还是十分推荐的，很值得一读。<em>（稀里糊涂也算是把坑填上了，双重意义上的填坑）</em></p>
]]></content>
      <categories>
        <category>杂谈</category>
        <category>acg</category>
      </categories>
      <tags>
        <tag>lightnovel</tag>
      </tags>
  </entry>
  <entry>
    <title>学不来老师 if 线完结感想</title>
    <url>/2020/12/14/bokutachi_comment_s/</url>
    <content><![CDATA[<p>  看完了心情复杂不知道说些什么，但好歹也要说一句——恭喜学不来老师 if 线完结。<br />
<a id="more"></a>   整部作品的观感老实说很不好，无奈自己也是在 dmzj 从第一话因为画风和题材有趣追这部作品，所以耐着性子把本篇之后的所有 if 线也看完了。</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"><img src="/images/20201214_01.jpg" width="50%"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><em>到此五个女主的结局全都有了，后续看样子还有其他计划，但按照传统武德，这里应该是完结了</em></td>
</tr>
</tbody>
</table>
<p>  作为四个 if 线中可以说人气最高呼声最好，个人觉得完全不像 if 线的老师 if 线，但就这一篇章本身来说各种可圈可点。一是比起前中期单纯的萌，越来越精湛成熟的画风。就拿卷首彩页来说，老师 if 线的封面可以说是我最喜欢的，对应了本篇老师解开过去心结的篇章的卷首彩页，只是视角不同，镜子破碎和服装的变化可以说镜子内外不同的自己终究合二为一。</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"><img src="/images/20201214_02.jpg" width="50%" style="display: inline-block" /><img src="/images/20201214_03.jpg" width="50%" style="display: inline-block" /></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><em>左图为本篇老师篇章出现的卷首彩页，右图为老师 if 线的卷首彩页，虽然视觉不同，但多个相同的元素很容易让人联系到一块</em></td>
</tr>
</tbody>
</table>
<p>  二是桐须老师感情的自然转变和对新背景设定和伏笔的回首上。剧情展开足够甜，同时回首了老师高中文化祭和唯我高中文化祭的伏笔，并且唯一以结婚为结尾，简直就是真女主待遇。可惜这么好的背景设定没有在本篇出现，还好麻雀虽小五脏俱全，这也足以证明了筒井老师画了这里也成长了不少。</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"><img src="/images/20201214_04.png" width="50%" style="display: inline-block" /><img src="/images/20201214_05.png" width="50%" style="display: inline-block" /></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><em>“惜美浪文乃，略输身材；润香理珠，稍逊人望；一代王者，唯我水希，亲妹设定排不上。”最终话这里是真的太棒了！</em></td>
</tr>
</tbody>
</table>
<p>  如果这是一篇短篇，我会相当喜欢这 9 话左右的内容，只可惜这是作为漫画《我们无法一起学习》的一个结局篇章。老师 if 线抛开了这部作品本篇所有的核心矛盾（奋斗和理想，与各个女主的感情）和伏笔另起炉灶，甚至连老师篇章的伏笔和矛盾也扔掉了，这就是我觉得不像 if 线的原因。当初看封面我以为这里会呼应本篇老师篇章的主题，继续理想与现实的讨论，但最后故事给我一种“挂羊头卖狗肉”，“牛肉面里面却放的是肋排”的蛋疼。最过分的时候本篇其他女主一个都没有登场，我估摸着就算不是老师的朋友，也算是唯我的朋友吧……算了，我认为干脆改名“我们无法一起教学”算了。</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"><img src="/images/20201214_06.png" width="50%"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><em>老师 if 线最终话这一页前后没有其他女主登场就离谱</em></td>
</tr>
</tbody>
</table>
<p>  这一问题就滋生了更多的其他问题。最典型的就比如男主的感情塑造上。本篇我觉得老师不可能赢的原因就在于老师篇章基本都是男主角唯我刷桐须老师的好感度，而男主角自己并没有太多心动，flag 插的不够多。而 if 线一上来好感度直接拉满，摆明了一脸“劳资就是来泡老师”的态度，过于强行给人一种突兀感生硬感，甚至还有一点轻度ooc。拜托，你是来学校当老师的，不是泡老师。这一点虽然可以解释为篇幅限制，但在放弃本篇的铺垫下，在长篇漫画能出人鱼公主结局“那一天，我有了一种新的想法”的创世举措，也就只有“师从”古味直志的筒井能被原谅了吧（纯调侃，筒井大志也是外传漫画《魔法甜点师小咲》的作者）。</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"><img src="/images/20201214_07.jpg" width="50%"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><em>《魔法甜点师小咲》的封面，我就说学不来最初的画风和伪恋就挺像的，话说筒井不会当过古味的助手吧</em></td>
</tr>
</tbody>
</table>
<p>  至于其他的问题，比如“老师为啥没变老”，“唯我你为什么这么熟练啊”，“其他女主角在哪里”等问题，我觉得会越在意越头大。说真的，如果不是我不会画画，我都想自己开始修改本篇，让这条if线看着合理一些。同样的问题在小美浪学姐 if 线也有，让我的怨念憋了很久。<br />
  总之，如果是单纯喜欢厨老师并且不太注重整体剧情的朋友，优秀的老师 if 线还是很值得一看，完全可以当成一个独立短篇来看待，不用担心本篇太长遗忘的问题；如果是更追求连续剧情发展的作品，我还是更推荐文乃 if 线，紧扣本篇剧情，虽然是老套三角关系但承上启下很自然，感情描写上也是相当优秀，唯一的缺点就是结局力度不够但符合这作品的欢乐特色也使得这条线仍是我心目中最棒的 if 线（应该没有私心，我说的）。</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"><img src="/images/20201214_08.jpg" width="50%" style="display: inline-block" /><img src="/images/20201214_09.jpg" width="50%" style="display: inline-block" /></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><em>左为本篇文乃篇章的卷首彩页，右为文乃 if 线的卷首彩页。讲道理，这么棒的妹子，难道还不是你喜欢的她，看文乃 if 线的理由吗？</em></td>
</tr>
</tbody>
</table>
<p>  原本想买文乃 if 线或者老师 if 线的单行本支持一下的，看到完结剧情上仍有不尽人意的地方也就算了，不过看预告感觉这作品好像还有后续……别吧，这作品到这里真的不错了，筒井老贼你快开新坑吧，把你后面练出来的本事用在一块它不香吗？</p>
]]></content>
      <categories>
        <category>杂谈</category>
        <category>acg</category>
      </categories>
      <tags>
        <tag>manga</tag>
      </tags>
  </entry>
  <entry>
    <title>Cplus2 Primer Ed5 Reading Notes (I)</title>
    <url>/2020/12/18/cplus2_noteI_z/</url>
    <content><![CDATA[<p>Personalized notes taken while reading <a href="https://www.informit.com/store/c-plus-plus-primer-9780321714114">Cplus2 Primer Ed5</a> (C++11 standard) Part I: The Basics.<br />
Since the standard has changed now, I will use "<strong>NCC</strong>" to reprensent "not the case currently". Anyway, good programming convention matters.<br />
Long-term updating required.</p>
<a id="more"></a>
<h1 id="chapter-1">Chapter 1</h1>
<ul>
<li><p>The value returned from <code>main</code> is accessed in a system-dependent manner. On both UNIX and Windows systems, after executing the program, you must issue an appropriate <code>echo</code> command.<br />
On UNIX systems, we obtain the status by writing <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ echo $?</span><br></pre></td></tr></table></figure> To see the status on a Windows system, we write <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ echo %ERRORLEVEL%</span><br></pre></td></tr></table></figure></p></li>
<li><p>The manipulator <code>endl</code> has the effect of ending the current line and flushing the buffer associated with that device. Flushing buffer ensures that all the output the program has generated so far is actually written to the output stream, rather than sitting in memory waiting to be written.<br />
<em>Programmers often add print statements during debugging. Such statements should always flush the stream. Otherwise, if the program crashes, output my be left in the buffer, leading to incorrect inferences about where the program crashed.</em></p></li>
<li><p>When a comment pair does span multiple lines (surely, the best way is to use single-line comments cause comment pairs do not nest), it is often a good idea to indicate visually that the inner lines are part of a multiple comment (e.g. begin each line with an asterisk).</p></li>
<li><p>When we use an <code>istream</code> as a condition, <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> (<span class="built_in">std</span>::<span class="built_in">cin</span> &gt;&gt; value)</span><br></pre></td></tr></table></figure> the effect is to test the state of the stream. If the stream is valid—that is, if the stream hasn't encountered an error—then the test succeeds.<br />
<em>An <code>istream</code> becomes invalid when we hit end-of-file (e.g. ctrl+z on Win or ctrl+d on UNIX) or encounter an invalid input, such as reading a value that is not an integer.</em></p></li>
<li><p>Most operating systems support file redirection (to avoid tediously repeated typing), which lets us associate a named file with the standard input and the standard output: <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ exefile &lt;infile &gt;outfile</span><br></pre></td></tr></table></figure> This command will read input from a file named <code>infile</code> and write its output to a file named <code>outfile</code> in the current directory.</p></li>
</ul>
<h1 id="chapter-2">Chapter 2</h1>
<ul>
<li><p>Which of the two character representations <code>signed char</code> and <code>unsigned char</code> is equivalent to <code>char</code> depends on the compiler. So computations using <code>char</code> are especially problematic because <code>char</code> is <code>signed</code> on some machines and <code>unsigned</code> on others. If you need a tiny integer, explicitly specify either <code>signed char</code> or <code>unsigned char</code>.</p></li>
<li><p>If we assign an out-of-range value to an object of unsigned type, the result is the remainder of the value modulo the number of values the target type can hold. If we assign an out-of-range value to an object of signed type, the result is undefined. Expressions that mix signed and unsigned values can yield suprising results when the signed value is negative since signed values are automatically converted to unsigned.</p></li>
<li><p>Programs usually should avoid implementation-defined behavior. Such programs are said to be nonportable. When program is moved to another machine, code that relied on implementation-defined behavior may fail.<br />
<em>Tracking down these sorts of problems in previously working programs is, mildly put, unpleasant.</em></p></li>
<li><p>Two string literals that appear adjacent to one another and that are seperated only by spaces, tabs or newlines are concatenated into a single literal.</p></li>
<li><p>Initialization is not assignment. Initialization happens when a variable is given a value when it is created. Assignment obliterates an object's current value and replaces that value with a new one.</p></li>
<li><p>When used with variables of built-in type, the list initialization has one important property: The compiler will not let us initialize variables of built-in type if the initializer might lead to the loss of information: <figure class="highlight"><table><tr><td class="code"><pre><span class="line"><span class="keyword">long</span> <span class="keyword">double</span> ld = <span class="number">3.1415926536</span>;</span><br><span class="line"><span class="keyword">int</span> a&#123;ld&#125;, b = &#123;ld&#125;; <span class="comment">// error: narrowing conversion required</span></span><br><span class="line">int c(ld), d = ld; // ok: but value will be truncated</span><br></pre></td></tr></table></figure></p></li>
<li><p>The value of an object of built-in type that is not explicitly initialized depends on where it is defined. Variables defined outside any function body are initialized to zero. With one exception, variables of built-in type defined inside a function are uninitialized. The value of an uninitialized variable of built-in type is undefined. (<strong>NCC</strong>)</p></li>
<li><p>DEFINITION <span class="math inline">\(\subseteq\)</span> DECLARATION.<br />
Variables must be defined exactly once but can be declared many times. To use the same variable in multiple files, we must define that variable in one—and only one—file. Other files that use that variable must declare—but not define—that variable. It is an error to provide an initializer on an <code>extern</code> inside a function.</p></li>
<li><p>Local object with a same as the global object will hide the global one. Use scope operator <code>::</code> to override the default scoping rules. When the scope operator has an empty left-hand side, it is a request to fetch the name on the right-hand side from the global scope.</p></li>
<li><p>Ordinarily, when we initialize a variable, the value of the initializer is copied into the object we are creating. When we define a reference, instead of copying the initializer's value, we bind the reference to its initializer. References must be initialized and cannot be rebound to refer to other different objects.<br />
<em>A reference is not an object. Instead, it is just another name for an already existing object. So we may not define a reference to a reference. Since references do not have addresses, we may not define a pointer to a reference.</em></p></li>
<li><p>We cannot use a <code>void*</code> to operate on the object it addresses—we don't know that object's type. Generally, we use a <code>void*</code> pointer to deal with memory as memory, rather than using the pointer to access the object stored in that memory.</p></li>
<li><p>It can be easier to understand complicated pointer or reference declarations if you read them from right to left. <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> *p;</span><br><span class="line"><span class="keyword">int</span> *&amp;r = p; <span class="comment">// r is a reference to the pointer p</span></span><br><span class="line"><span class="keyword">int</span>* ip, &amp;r = ip; <span class="comment">// invalid bind</span></span><br></pre></td></tr></table></figure></p></li>
<li><p><code>const</code> variables are defined as local to the file. When we define a <code>const</code> with the same name in multiple files, it is as if we had written definitions for seperate variables in each file. When we have a <code>const</code> that we want to share across multiple files but whose initializer is not a constant expression, we need to use <code>extern</code> on both its definition and declaration(s).</p></li>
<li><p>We can initialize a reference to <code>const</code> from any expression that can be converted to the type of the reference. In particular, we can bind a reference to <code>const</code> to a non<code>const</code> object, a literal, or a more general expression. <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;r1 = i;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;r2 = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;r3 = r1 * <span class="number">2</span>;</span><br></pre></td></tr></table></figure> but here we cannot use <code>r1</code> to change <code>i</code>. When we use <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">double</span> dval = <span class="number">3.14</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;ri = dval;</span><br></pre></td></tr></table></figure> the compiler transforms this into something like <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> temp = dval;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;ri = temp;</span><br></pre></td></tr></table></figure></p></li>
<li><p><code>const int *p</code> 指向被当作是 <code>const int</code> 的 object, 即 <code>*p</code> 的行为表现得与一个 <code>const int</code> 一致. 我们无法改变 <code>*p</code> 的值, 但可改变 <code>p</code> 的值 (low-level const).<br />
而由于指针是 object, 也可被 <code>const</code> 修饰: 使用 <code>int *const p</code> 来表示一个无法更改 <code>p</code> 的值的指针(故必须在定义时初始化), 但我们可通过改变 <code>*p</code> 来改变所指对象的值 (top-level const).<br />
<em>The distinction between top-level and low-level matters when we copy an object: top-level <code>const</code>s are ignored at that time.</em></p></li>
<li><p><code>auto</code> ordinarily ignores top-level <code>const</code>s. As usual in initializations, low-level <code>const</code>s, such as when an initializer is a pointer to <code>const</code>, are kept. If we want the deduced type to have top-level <code>const</code>, we must say so explicitly. <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> ci = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">auto</span> a = ci; <span class="comment">// a is an int</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">auto</span> b = ci; <span class="comment">// b has type const int</span></span><br><span class="line"><span class="keyword">auto</span> &amp;c = ci; <span class="comment">// c is a const int&amp;</span></span><br><span class="line"><span class="keyword">auto</span> &amp;d = <span class="number">42</span>; <span class="comment">// error: cannot bind a plain reference to a literal</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">auto</span> &amp;e = <span class="number">42</span>; <span class="comment">// ok</span></span><br></pre></td></tr></table></figure> From above we can see that when we ask for a reference to an <code>auto</code>-deduced type, top-level <code>const</code>s in the initializer are not ignored.</p></li>
<li><p>When the expression to which we apply <code>decltype</code> is a variable, <code>decltype</code> returns the type of that variable, including top-level <code>const</code> and references. And <code>decltype</code> returns a reference type for expressions that yield objects that can stand on the left-hand side of the assignment. <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> ci = <span class="number">0</span>, &amp;cj = ci;</span><br><span class="line"><span class="keyword">decltype</span>(ci) a = <span class="number">0</span>; <span class="comment">// a has type const int</span></span><br><span class="line"><span class="keyword">decltype</span>(cj) b; <span class="comment">// error: b is a reference and must be initialized</span></span><br><span class="line"><span class="keyword">int</span> i = <span class="number">42</span>, *p = &amp;i, &amp;r = i;</span><br><span class="line"><span class="keyword">decltype</span>(r + <span class="number">0</span>) c; <span class="comment">// ok: addition yields an int; c is an (uninitialized) int</span></span><br><span class="line"><span class="keyword">decltype</span>(*p) d; <span class="comment">// error: d is int&amp; and must be initialized</span></span><br></pre></td></tr></table></figure> If we use <code>decltype(r)</code>, we will get a reference type. Another important difference between <code>decltype</code> and <code>auto</code> is that the deduction done by <code>decltype</code> depends on the form of its given expression. <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">decltype</span>((i)) e; <span class="comment">// error: e is int&amp;</span></span><br><span class="line"><span class="keyword">decltype</span>(i) f; <span class="comment">// ok: f is an int</span></span><br></pre></td></tr></table></figure></p></li>
</ul>
<h1 id="chapter-3">Chapter 3</h1>
<ul>
<li><p>Headers should not include <code>using</code> declarations. Use the C++ versions of C library headers.</p></li>
<li><p>String literals are not standard library <code>string</code>s. E.g. when we mix <code>string</code>s and string or character literals, at least one operand to each <code>+</code> operator must be of <code>string</code> type.</p></li>
<li><p>Since <code>vector</code>s grow efficiently, it is often unnecessary—and can result in poorer performance—to define a <code>vector</code> of a specific size.<br />
<em>The exception to this rule is if all the elements actually need the same value. If differing element values are needed, it is usually more efficient to define an empty <code>vector</code> and add elements as the values we need become known at run time.</em></p></li>
<li><p>The body of a range <code>for</code> must not change the size of the sequence over which it is iterating. (<strong>NCC</strong>)</p></li>
<li><p>If container is empty, <code>begin</code> returns the same iterator as the one returned by <code>end</code>.</p></li>
<li><p>It is important to realize that loops that use iterators should not add elements to the container to which the iterators refer.</p></li>
<li><p>Subtracting two iterators yields the number that when added to the right-hand iterator yields the left-hand iterator. The iterators must denote elements in, or one past the end of, the same container.<br />
<em>The result type is a signed integral type named <code>difference_type</code>.</em></p></li>
</ul>
<h1 id="chapter-4">Chapter 4</h1>
<ul>
<li><p>Roughly speaking, when we use an object as an rvalue, we use the object's value (its contents). When we use an object as an lvalue, we use the object's identity (its location in memory). We can use an lvalue when an rvalue is requried, but we cannot use an rvalue when an lvalue (i.e., a location) is required (with one exception that will be covered later).</p></li>
<li><p><code>sizeof</code> does not evaluate its operand, so dereferencing an invalid pointer as the operand to <code>sizeof</code> is safe because the pointer is not actually used.</p></li>
</ul>
<h1 id="chapter-5">Chapter 5</h1>
<ul>
<li>Throwing an exception terminates the current function and transfers control to a handler that will know how to handle this error. When a <code>catch</code> is selected to handle an exception, the associated block is executed.</li>
</ul>
<h1 id="chapter-6">Chapter 6</h1>
<ul>
<li><p>Using reference parameters could avoid copying objects of large class types or large containers. (Moreover, some class type cannot be copied.) Reference parameters that are not changed inside a function should be references to <code>const</code>.</p></li>
<li><p>When you use the arguments in <code>argv</code>, remember that the optional arguments begin in <code>argv[1]</code>, <code>arg[0]</code> contains the program's name (or empty string), not user input.</p></li>
<li><p>Never return a reference or pointer to a local object. Reference returns are LVALUES.</p></li>
<li><p>The form of a function that returns a pointer to an array is <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">Type (*function(parameter_list))[dimension]</span><br></pre></td></tr></table></figure></p></li>
<li><p>Overloaded functions must differ in the number or the type(s) of their parameters. It is an error for two functions to differ only in terms of their return types. A parameter that has a top-level <code>const</code> is indistinguishable from one without a top-level <code>const</code>. On the other hand, we can overload based on whether the parameter is a reference (or pointer) to the <code>const</code> or non<code>const</code> version of a given type; such <code>const</code>s are low-level. <figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">Record <span class="title">lookup</span><span class="params">(Phone)</span></span>;</span><br><span class="line"><span class="function">Record <span class="title">lookup</span><span class="params">(<span class="keyword">const</span> Phone)</span></span>; <span class="comment">// redeclares</span></span><br><span class="line"></span><br><span class="line"><span class="function">Record <span class="title">lookup</span><span class="params">(Phone*)</span></span>;</span><br><span class="line"><span class="function">Record <span class="title">lookup</span><span class="params">(Phone* <span class="keyword">const</span>)</span></span>; <span class="comment">// also redeclares</span></span><br><span class="line"></span><br><span class="line"><span class="function">Record <span class="title">lookup</span><span class="params">(Account&amp;)</span></span>;</span><br><span class="line"><span class="function">Record <span class="title">lookup</span><span class="params">(<span class="keyword">const</span> Account&amp;)</span></span>; <span class="comment">// new function that takes a const reference</span></span><br><span class="line"></span><br><span class="line"><span class="function">Record <span class="title">lookup</span><span class="params">(Account*)</span></span>;</span><br><span class="line"><span class="function">Record <span class="title">lookup</span><span class="params">(<span class="keyword">const</span> Account*)</span></span>; <span class="comment">// new function, takes a pointer to const</span></span><br></pre></td></tr></table></figure></p></li>
<li><p>If a parameter has a default argument, all the parameters that follow it must also have default arguments. To override the default for the last parameter, we must also supply arguments for the first several parameters (if exist). So we may design the ordering of parameters so that those least likely to use a default value appear first and those most likely to use a default appear last.</p></li>
<li><p>Names used as default arguments are resolved in the scope of the function declaration.</p></li>
</ul>
]]></content>
      <categories>
        <category>学习</category>
        <category>语言</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>study notes</tag>
      </tags>
  </entry>
  <entry>
    <title>由某概率题引发的讨论</title>
    <url>/2021/03/19/gacha_z/</url>
    <content><![CDATA[<p>某日收到友人的一个问题, 如下问题 1 所示.</p>
<a id="more"></a>
<h2 id="问题-1">问题 1</h2>
<div class="note info no-icon"><!-- #### No icon note -->
<p>在阴阳师游戏中, 御魂有 6 个位置. 4 件不同位置的御魂可以获得套装效果.<br />
假设在一个副本内, 每次掉落一个御魂, 掉落在 6 个位置中概率相同. (只考虑一套御魂)</p>
<ol type="1">
<li>要集齐一套 4 件套, 平均需要通关几次副本?</li>
<li>如果要求 4 件套中不能有 2 号位, 平均需要通关几次副本?</li>
<li>如果要求 4 件套中必须有一件是 2 号位, 平均需要通关几次副本?</li>
</ol>
</div>
<p><strong><em>Sketch of analysis:</em></strong><br />
1. 我们设随机变量 <span class="math inline">\(X\)</span> 表示集齐一套 4 件套需要的次数. 令 <span class="math inline">\(Y_k\)</span> 表示从刚好有第 <span class="math inline">\(k-1\)</span> 种位置到刚好有第 <span class="math inline">\(k\)</span> 种位置需要通关的次数, <span class="math inline">\(k=1,2,3,4\)</span>. 则显然 <span class="math inline">\(Y_k\)</span> 服从几何分布, 我们有 <span class="math inline">\(Y_k\sim\mathrm{Geo}(\frac{7-k}{6})\)</span>. 故由 <span class="math inline">\(Y_k\)</span> 的定义可知<br />
<span class="math display">\[
        \mathbb{E}[X]=\sum_{k=1}^4\mathbb{E}[Y_k]=\sum_{k=1}^4\frac{6}{7-k}=\frac{57}{10}
    \]</span><br />
2. 类似第 1 问, 此时只需要更改几何分布的参数 <span class="math inline">\(p\)</span> 即可, 我们有 <span class="math inline">\(Y_k\sim\mathrm{Geo}(\frac{6-k}{6})\)</span>, <span class="math inline">\(k=1,2,3,4\)</span>. 可计算出结果为 <span class="math inline">\(\frac{77}{10}\)</span>.<br />
3. 对第 1 问中得到的任一套 4 件套, 2 号位在其中的概率为 <span class="math display">\[
    \binom{5}{3}\Big/\binom{6}{4} = \frac{2}{3}
\]</span> 当 2 号位不在 4 件套中时, 我们需要继续打副本直到得到 2 号位为止. 此时下一套出现 2 号位的概率占未出现位置的一半. 综上分析我们得到当要求 4 件套中必须有一件是 2 号位时平均需要通关 <span class="math display">\[
    \frac{2}{3}\times\frac{57}{10}+\frac{1}{3}\times\bigg(\frac{57}{10}+\frac{1}{2}\times\frac{6}{2}+\frac12\times\Big(\frac{6}{2}+\frac{6}{1}\Big)\bigg)=\frac{77}{10}
\]</span></p>
<p>用 MMA 模拟结果如下. <div class="tabs" id="simulation-with-mma"><ul class="nav-tabs"><li class="tab active"><a href="#simulation-with-mma-1">Q1</a></li><li class="tab"><a href="#simulation-with-mma-2">Q2</a></li><li class="tab"><a href="#simulation-with-mma-3">Q3</a></li></ul><div class="tab-content"><div class="tab-pane active" id="simulation-with-mma-1"><figure class="highlight mathematica"><table><tr><td class="code"><pre><span class="line">sol1[n_] := <span class="keyword">Module</span>[&#123;i = <span class="number">0</span>, count, list, tmp&#125;,</span><br><span class="line">   <span class="keyword">Do</span>[</span><br><span class="line">    count = <span class="number">0</span>; list = <span class="keyword">ConstantArray</span>[<span class="number">0</span>, <span class="number">6</span>];</span><br><span class="line">    <span class="keyword">While</span>[count &lt; <span class="number">4</span>,</span><br><span class="line">     tmp = <span class="keyword">RandomInteger</span>[&#123;<span class="number">1</span>, <span class="number">6</span>&#125;];</span><br><span class="line">     <span class="keyword">If</span>[list[[tmp]] == <span class="number">0</span>, list[[tmp]] = <span class="number">1</span>; count++];</span><br><span class="line">     i++],</span><br><span class="line">    &#123;loop, <span class="number">1</span>, n&#125;];</span><br><span class="line">   <span class="keyword">N</span>[i/n]];</span><br><span class="line"></span><br><span class="line">sol1[<span class="number">1000000</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight mathematica"><table><tr><td class="code"><pre><span class="line"><span class="number">5.70032</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="simulation-with-mma-2"><figure class="highlight mathematica"><table><tr><td class="code"><pre><span class="line">sol2[n_] := <span class="keyword">Module</span>[&#123;i = <span class="number">0</span>, count, list, tmp&#125;,</span><br><span class="line">   <span class="keyword">Do</span>[</span><br><span class="line">    count = <span class="number">0</span>; list = <span class="keyword">ConstantArray</span>[<span class="number">0</span>, <span class="number">6</span>];</span><br><span class="line">    <span class="keyword">While</span>[count &lt; <span class="number">4</span>,</span><br><span class="line">     tmp = <span class="keyword">RandomInteger</span>[&#123;<span class="number">1</span>, <span class="number">6</span>&#125;];</span><br><span class="line">     <span class="keyword">If</span>[tmp != <span class="number">2</span>, <span class="keyword">If</span>[list[[tmp]] == <span class="number">0</span>, list[[tmp]] = <span class="number">1</span>; count++]];</span><br><span class="line">     i++],</span><br><span class="line">    &#123;loop, <span class="number">1</span>, n&#125;];</span><br><span class="line">   <span class="keyword">N</span>[i/n]];</span><br><span class="line"></span><br><span class="line">sol2[<span class="number">1000000</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight mathematica"><table><tr><td class="code"><pre><span class="line"><span class="number">7.69819</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="simulation-with-mma-3"><figure class="highlight mathematica"><table><tr><td class="code"><pre><span class="line">sol3[n_] := <span class="keyword">Module</span>[&#123;i = <span class="number">0</span>, count, list, tmp&#125;,</span><br><span class="line">   <span class="keyword">Do</span>[</span><br><span class="line">    count = <span class="number">0</span>; list = <span class="keyword">ConstantArray</span>[<span class="number">0</span>, <span class="number">6</span>];</span><br><span class="line">    <span class="keyword">While</span>[count &lt; <span class="number">4</span> || list[[<span class="number">2</span>]] == <span class="number">0</span>,</span><br><span class="line">     tmp = <span class="keyword">RandomInteger</span>[&#123;<span class="number">1</span>, <span class="number">6</span>&#125;];</span><br><span class="line">     <span class="keyword">If</span>[list[[tmp]] == <span class="number">0</span>, list[[tmp]] = <span class="number">1</span>; count++];</span><br><span class="line">     i++],</span><br><span class="line">    &#123;loop, <span class="number">1</span>, n&#125;];</span><br><span class="line">   <span class="keyword">N</span>[i/n]];</span><br><span class="line"></span><br><span class="line">sol3[<span class="number">1000000</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight mathematica"><table><tr><td class="code"><pre><span class="line"><span class="number">7.70398</span></span><br></pre></td></tr></table></figure></div></div></div></p>
<p>上面这个问题稍微推广就可得到氪金抽卡问题. 其实我很早就有写点抽卡中的概率问题的想法了, 这次友人给我的问题让我有了去写的动力. 这里先考虑一个简单的问题.</p>
<h2 id="问题-2">问题 2</h2>
<div class="note info no-icon"><!-- #### No icon note -->
<p>扭蛋池中有 <span class="math inline">\(n\)</span> 种扭蛋, 设每次 gacha 都等可能地得到其中一种扭蛋一个. 若某氪金大佬想要抽齐所有扭蛋 (即每种扭蛋都至少抽出一个), 以 <span class="math inline">\(X_n\)</span> 表示该大佬需要 gacha 的次数. 讨论 <span class="math inline">\(X_n\)</span> 的概率特征.</p>
</div>
<p><strong><em>Sketch of analysis:</em></strong><br />
利用题目 1 中的方法, 把 <span class="math inline">\(X_n\)</span> 拆成 <span class="math inline">\(n\)</span> 个随机变量和 <span class="math inline">\(X_n=\sum_{k=1}^nY_k\)</span> , 其中 <span class="math inline">\(Y_k\sim\mathrm{Geo}(\frac{n-k+1}{n})\)</span> 表示从刚好有第 <span class="math inline">\(k-1\)</span> 种扭蛋到刚好有第 <span class="math inline">\(k\)</span> 种扭蛋需要抽取的次数. 容易计算其期望 <span class="math inline">\(\mathbb{E}[X_n]=nH_n\)</span>, 其中 <span class="math inline">\(H_n=\sum_{i=1}^ni^{-1}\)</span> 是第 <span class="math inline">\(n\)</span> 个调和数. 利用 <span class="math inline">\(Y_k\)</span> 之间的独立性也容易计算出方差为: <span class="math display">\[
      D[X_n]=\sum_{k=1}^nD[Y_k] = n^2\sum_{k=1}^nk^{-2}
  \]</span> 设 <span class="math inline">\(Z_n=\frac{X_n-nH_n}{n}\)</span> , 计算 <span class="math inline">\(Z_n\)</span> 的特征函数如下 <span class="math display">\[ 
    \begin{aligned}
    \varphi_{Z_n}(t)=&amp;\mathbb{E}[\mathrm{e}^{itZ_n}]=\mathrm{e}^{-itH_n}\mathbb{E}[\mathrm{e}^{i\frac{t}{n}X_n}]=\mathrm{e}^{-itH_n}\prod_{k=1}^n\Big(1+\frac{n}{n-k+1}\big(\mathrm{e}^{-\frac{it}{n}}-1\big)\Big)^{-1}\\ =&amp;\bigg(\prod_{k=1}^n\mathrm{e}^{\frac{it}{k}}\Big(1+\frac{n}{k}\big(\mathrm{e}^{-\frac{it}{n}}-1\big)\Big)\bigg)^{-1}
    \end{aligned}
  \]</span> 求极限得 <span class="math display">\[ 
    \lim_{n\to\infty}\varphi_{Z_n}(t)=\bigg(\prod_{k=1}^{\infty}\mathrm{e}^{\frac{it}{k}}\Big(1-\frac{it}{k}\Big)\bigg)^{-1} 
  \]</span> 由 <a href="https://en.wikipedia.org/wiki/Gamma_function#Weierstrass&#39;s_definition">Gamma 函数的无穷乘积表达</a> <span class="math display">\[
    \Gamma(z)=\frac{\mathrm{e}^{-\gamma z}}{z}\bigg(\prod_{k=1}^{\infty}\mathrm{e}^{-\frac{z}{k}}\Big(1+\frac{z}{k}\Big)\bigg)^{-1} 
  \]</span> 可知 <span class="math inline">\(\lim_{n\to\infty}\varphi_{Z_n}(t)=\Gamma(1-it)\mathrm{e}^{-it\gamma}\)</span> . 故 <span class="math inline">\(Z_n+\gamma\)</span> 的特征函数逐点收敛到某一随机变量 <span class="math inline">\(V\)</span> 的特征函数. 故由 <a href="https://en.wikipedia.org/wiki/L%C3%A9vy%27s_continuity_theorem">Lévy's Convergence Theorem</a> 知 <span class="math display">\[
    F_V(x)=\lim_{n\to\infty}\mathbb{P}(Z_n+\gamma\leq x)=\lim_{n\to\infty}\mathbb{P}\bigg(\frac{X_n-n(H_n-\gamma)}{n}\leq x\bigg)=\lim_{n\to\infty}\mathbb{P}\Big(\frac{X_n-n\ln n}{n}\leq x\Big)
  \]</span> 其中 <span class="math inline">\(V\)</span> 应满足 <span class="math display">\[
    \int_{\mathbb{R}}\mathrm{e}^{itv}\mathrm{d}F_V(v)=\Gamma(1-it)
  \]</span> 这里 <span class="math inline">\(F_V\)</span> 表示 <span class="math inline">\(V\)</span> 的 CDF.</p>
<details class="note default no-icon"><summary><p><strong>RMK</strong></p>
</summary>
<p>由问题 1 的解答过程首先是联想到抽满的情况: 因为在计算期望的过程中算到抽满为止将得到调和数, 它可能具有某些好的性质. 所以也就有了问题 2 中的讨论. 在此问题基础上更进一步地, 我们还可以研究</p>
<ul>
<li><span class="math inline">\(n\)</span> 个扭蛋出现概率不同, 即第 <span class="math inline">\(i\)</span> 种扭蛋出现概率为 <span class="math inline">\(p_i\in(0,1)\)</span>, 满足 <span class="math inline">\(\sum_{i=1}^np_i=1\)</span>. 此时的 <span class="math inline">\(X_n\)</span> 还有比较好的性质吗?</li>
<li>此氪金大佬想要抽齐 <span class="math inline">\(m\)</span> 套来分别送给 <span class="math inline">\(m\)</span> 个好兄弟 (即每种扭蛋至少抽出 <span class="math inline">\(m\)</span> 个), 此时他需要进行 gacha 的次数 <span class="math inline">\(X_n^{(m)}\)</span> 又是怎样的呢?</li>
</ul>

</details>
]]></content>
      <categories>
        <category>杂谈</category>
        <category>生活</category>
      </categories>
      <tags>
        <tag>maths</tag>
        <tag>gacha</tag>
      </tags>
  </entry>
  <entry>
    <title>(ICML20) Streaming Submodular Maximization under a $k$-Set System</title>
    <url>/2020/12/01/icml20_streaming_kset_z/</url>
    <content><![CDATA[<p>号称第一个解决 streaming + non-monotone + <span class="math inline">\(k\)</span>-system constraint 问题的<a href="https://arxiv.org/abs/2002.03352">算法</a>出现了. 究竟是怎么一回事呢? 现在就让小编带大家一起来看看吧.</p>
<a id="more"></a>
<h2 id="a-framework">A Framework</h2>
<p>文章提出了一个新的将<strong>适用于单调次模函数的流算法</strong>转变为<strong>适用于非单调次模函数的流算法</strong>的框架. 其实这种 converting 框架在 <a href="https://arxiv.org/abs/1706.03583">AAAI2018 的一篇文章</a>中已经被提出过一次了, 不过在那篇文章中要求所用的流算法具有 <span class="math display">\[
  f(S)\geq\alpha f(S\cup T)
\]</span> 这样的性质 (<span class="math inline">\(S\)</span> 为算法输出, <span class="math inline">\(T\)</span> 为任一可行解, <span class="math inline">\(\alpha&gt;0\)</span> 为某个常数).</p>
<p>本文中的框架对输入算法要求具有 <span class="math inline">\((\alpha,\gamma)\)</span>-approximation 的性质:</p>
<div class="note default no-icon"><p><strong>Definition:</strong> Consider a data stream algorithm for maximizing a non-negative submodular function <span class="math inline">\(f:2^{\mathcal{N}}\to\mathbb{R}_{\geq0}\)</span> subject to a constraint <span class="math inline">\((\mathcal{N},\mathcal{I})\)</span>. We say that such an algorithm is an <span class="math inline">\((\alpha,\gamma)\)</span>-approximation algorithm, for some <span class="math inline">\(\alpha&gt;1\)</span> and <span class="math inline">\(\gamma\geq0\)</span>, if it returns two sets <span class="math inline">\(S\subseteq A\subseteq\mathcal{N}\)</span> such that <span class="math inline">\(S\in\mathcal{I}\)</span>, and for all <span class="math inline">\(T\in\mathcal{I}\)</span> we have <span class="math display">\[
    \mathbb{E}[f(T\cup A)]\leq\alpha\mathbb{E}[f(S)]+\gamma
\]</span></p>
</div>
<p>现在我们来看看这个 framework, 记 <span class="math inline">\(\text{StreamingAlg}\)</span> 为输入的流算法, <span class="math inline">\(\text{ConstrainedAlg}\)</span> 为同一问题的 offline 算法.</p>
<div class="note info no-icon"><h3 id="alg.-1-non-monotone-data-stream-algorithm">(Alg. 1) Non-monotone Data Stream Algorithm</h3>
<p><strong>Input:</strong> a positive integer <span class="math inline">\(r\)</span><br />
<strong>Output:</strong> a set <span class="math inline">\(S\in\mathcal{I}\)</span><br />
Initialize <span class="math inline">\(r\)</span> independent copies of <span class="math inline">\(\text{StreamingAlg}\)</span>: <span class="math inline">\(\text{StreamingAlg}^{(1)},\dots,\text{StreamingAlg}^{(r)}\)</span><br />
<strong>while</strong> there are more elements in the stream <strong>do</strong><br />
  Let <span class="math inline">\(D_0\)</span> be a singleton set containing the next element of the stream<br />
  <strong>for</strong> <span class="math inline">\(i=1\)</span> to <span class="math inline">\(r\)</span> <strong>do</strong> <span class="math inline">\(D_i\leftarrow\text{StreamingAlg}^{(i)}(D_{i-1})\)</span><br />
Let <span class="math inline">\(D_0\leftarrow\emptyset\)</span><br />
<strong>for</strong> <span class="math inline">\(i=1\)</span> to <span class="math inline">\(r\)</span> <strong>do</strong><br />
  <span class="math inline">\((S_i,A_i,D_i)\leftarrow\text{StreamingAlg}^{(i)}_{\mathbf{end}}(D_{i-1})\)</span><br />
  <span class="math inline">\(S_i&#39;\leftarrow\text{ConstrainedAlg}(A_i)\)</span><br />
<strong>return</strong> the set <span class="math inline">\(S\)</span> maximizing <span class="math inline">\(f\)</span> among <span class="math inline">\(\{S_i,S_i&#39;\}_{i=1}^r\)</span></p>
</div>
<p>算法的思想很简单, 首先对每个到来的元素 <span class="math inline">\(u\)</span>, 使用 <span class="math inline">\(r\)</span> 个独立相同的 <span class="math inline">\(\text{StreamingAlg}\)</span> 程序来依次进行处理: 第一个程序的输入为 <span class="math inline">\(\{u\}\)</span>, 之后每个程序以被上一个程序扔出内存的部分 (可能是因为 constraint 不满足, 或者是因为部分元素被置换出去) 为输入进行处理. 当 stream 整个 pass 结束后, 仍按次序输出这 <span class="math inline">\(r\)</span> 个子程序的结果. 由于 <span class="math inline">\(\text{StreamingAlg}\)</span> 是 <span class="math inline">\((\alpha,\gamma)\)</span>-approximation 算法, 我们将集合 <span class="math inline">\(S,A\)</span> 输出, 同时也对集合 <span class="math inline">\(A\)</span> 跑一次 offline 程序 <span class="math inline">\(\text{ConstrainedAlg}\)</span>. 在输出 <span class="math inline">\(S,A\)</span> 的同时, 我们也将所有在该子程序内存中但不在 <span class="math inline">\(A\)</span> 中的数据构成的集合 <span class="math inline">\(D\)</span> 输出, 作为下一个子程序的输入 (第一个子程序的输入为空集). 这个过程可以简单描述成如下图所示.</p>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><img src="/images/20201203.png" /></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><em>仿佛就是 streaming 版本的 <a href="http://proceedings.mlr.press/v65/feldman17b/feldman17b.pdf">RepeatedGreedy</a> (实际上接下来的 Proposition 1 的推导完全类似 RepeatedGreedy 的近似比推导)</em></td>
</tr>
</tbody>
</table>
<p>对于这个框架, 我们有如下结论.</p>
<div class="note primary no-icon"><h4 id="proposition-1">Proposition 1</h4>
<p>Given an <span class="math inline">\((\alpha,\gamma)\)</span>-approximation data stream algorithm <span class="math inline">\(\text{StreamingAlg}\)</span> for maximizing a non-negative submodular function subject to some constraint and an offline <span class="math inline">\(\beta\)</span>-approximation algorithm <span class="math inline">\(\text{ConstrainedAlg}\)</span> for the same problem. There exists a data stream algorithm returning a feasible set <span class="math inline">\(S\)</span> that obeys <span class="math display">\[
  \mathbb{E}[f(S)]\geq\frac{(r-1)f(O)-r\gamma}{r\alpha+r(r-1)\beta/2}
\]</span> Furthermore,</p>
<ul>
<li>this algorithm is deterministic if <span class="math inline">\(\text{StreamingAlg}\)</span> and <span class="math inline">\(\text{ConstrainedAlg}\)</span> are both deterministic.</li>
<li>the space complexity of this algorithm is upper bounded by <span class="math inline">\(O(rM_{\text{StreamingAlg}}+M_{\text{ConstrainedAlg}})\)</span>, where <span class="math inline">\(M_{\text{StreamingAlg}}\)</span> and <span class="math inline">\(M_{\text{ConstrainedAlg}}\)</span> represent the space complexities of thier matching algorithms under the assumption that the input for <span class="math inline">\(\text{StreamingAlg}\)</span> is a subset of the full input and the input for <span class="math inline">\(\text{ConstrainedAlg}\)</span> is the <span class="math inline">\(A\)</span> set produced by <span class="math inline">\(\text{StreamingAlg}\)</span> on some such subset.</li>
</ul>
</div>
<h2 id="algorithms">Algorithms</h2>
<p>下面介绍论文提出的解决 <span class="math inline">\(k\)</span>-system 约束的算法. 为了方便分析, 先给出一个预先知道 <span class="math inline">\(M=\max_{u\in\mathcal{N},\{u\}\in\mathcal{I}}f(\{u\})\)</span> 和最大独立集大小 <span class="math inline">\(\rho\)</span> 的版本.</p>
<div class="note info no-icon"><h3 id="alg.-2-streaming-algorithm-for-k-system">(Alg. 2) Streaming Algorithm for <span class="math inline">\(k\)</span>-system</h3>
<p><strong>Input:</strong> a threshold <span class="math inline">\(\tau\in[M,2M]\)</span>, the size <span class="math inline">\(\rho\)</span> of the largest independent set, and parameter <span class="math inline">\(k\)</span> of the constraint<br />
<strong>Output:</strong> a solution <span class="math inline">\(T\in\mathcal{I}\)</span><br />
Let <span class="math inline">\(\ell\leftarrow\lfloor\log_2(4\rho)\rfloor\)</span> and <span class="math inline">\(h\leftarrow\lceil\log_2(2k+1)\rceil\)</span><br />
<strong>for</strong> <span class="math inline">\(i=0\)</span> to <span class="math inline">\(\ell\)</span> <strong>do</strong> Initialize <span class="math inline">\(E_i\leftarrow\emptyset\)</span><br />
<strong>for</strong> every element <span class="math inline">\(u\)</span> arriving <strong>do</strong><br />
  Let <span class="math inline">\(m(u)\leftarrow f(u|\cup_{i=0}^{\ell}E_i)\)</span><br />
  <strong>if</strong> <span class="math inline">\(m(u)&gt;0\)</span> <strong>then</strong> Let <span class="math inline">\(i(u)\leftarrow\lfloor\log_2(\tau/m(u))\rfloor\)</span> <strong>else</strong> Let <span class="math inline">\(i(u)\leftarrow\infty\)</span><br />
  <strong>if</strong> <span class="math inline">\(0\leq i(u)\leq\ell\)</span> and <span class="math inline">\(E_{i(u)}+u\in\mathcal{I}\)</span> <strong>then</strong> Update <span class="math inline">\(E_{i(u)}\leftarrow E_{i(u)}+u\)</span><br />
<strong>for</strong> <span class="math inline">\(j=0\)</span> to <span class="math inline">\(h-1\)</span> <strong>do</strong><br />
  Let <span class="math inline">\(i\leftarrow j\)</span> and <span class="math inline">\(T_j\leftarrow\emptyset\)</span><br />
  <strong>while</strong> there is an element <span class="math inline">\(u\in E_i\)</span> such that <span class="math inline">\(T_j+u\in\mathcal{I}\)</span> <strong>do</strong> Update <span class="math inline">\(T_j\leftarrow T_j+u\)</span><br />
  <span class="math inline">\(i\leftarrow i+h\)</span><br />
<strong>return</strong> the set <span class="math inline">\(T\)</span> maximizing <span class="math inline">\(f\)</span> among <span class="math inline">\(T_0,T_1,\dots,T_{h-1}\)</span></p>
</div>
<p>下面我们将详细分析一下这个算法的性质. 首先我们可以看出 Alg. 2 仍采用了类似 sieve 的方法. 那么, 在 streaming 条件下使用 threshold 有什么困难? 对 knapsack, 同时超过 threshold 且超过 budget 的元素可以对 threshold 设置成和 budget 相关的一个量来 bound 住这部分元素的值. 但对 <span class="math inline">\(k\)</span>-system, 如果硬上 multi-solution + threshold, 超过 threshold 但因 independent set 约束不能加入集合的这部分元素无法像 knapsack 那样简单地处理. 算法对不同 threshold 构造了 <span class="math inline">\(\ell\)</span> 个集合, 然后最终的结果通过在这 <span class="math inline">\(\ell\)</span> 个集合中按一定规则进行挑选得到. 首先我们需要说明集合 <span class="math inline">\(E\)</span> 的性质是好的, 这由以下引理保证.</p>
<div class="note default no-icon"><p><strong>Lemma 1:</strong> For every set <span class="math inline">\(S\in\mathcal{I}\)</span>, <span class="math display">\[
  f(E|\emptyset)\geq\dfrac{f(S\cup E|\emptyset)-\tau/4}{2k+1}
\]</span></p>
</div>
<p><strong><em>Proof Sketch of Lemma 1:</em></strong> 算法构造了 <span class="math inline">\(\ell+1\)</span> 个区间 <span class="math inline">\((2^{-(i+1)}\tau,2^{-i}\tau]\)</span> 和与之对应的集合 <span class="math inline">\(E_i\)</span>, <span class="math inline">\(i=0,1,\dots,\ell\)</span>. 每当 <span class="math inline">\(u\)</span> 到来时的 marginal gain 满足 <span class="math display">\[
    m(u)=f(u|\text{Pre}(u,E))\in (2^{-(i+1)}\tau,2^{-i}\tau]
\]</span> 时 (这里 <span class="math inline">\(E=\cup_{i=0}^{\ell}E_i\)</span>), 我们就将 <span class="math inline">\(u\)</span> 加入到 <span class="math inline">\(E_i\)</span> 中 (在满足 <span class="math inline">\(k\)</span>-system 条件约束下). 由 greedy 性质可知 <span class="math inline">\(E_i\)</span> 是 <span class="math inline">\(U_i=\{u\in\mathcal{N}:i(u)=i\}\)</span> 的一个 base, 再结合 <span class="math inline">\(U_i\)</span> 之间的不交性启发我们考虑 <span class="math inline">\(S\)</span> 在各 <span class="math inline">\(U_i\)</span> 中的部分: <span class="math inline">\(|S\cap U_i|\leq k|E_i|\)</span>, <span class="math inline">\(i=0,1,\dots,\ell\)</span>. 而对 <span class="math inline">\(i&lt;0\vee i&gt;\ell\)</span> 的部分, 我们就可以通过调整 <span class="math inline">\(\ell,\tau\)</span> 的值将其 bound 住.</p>
<p>由于我们现在得到的 <span class="math inline">\(E\)</span> 并不一定是 independet set, 所以我们需要从 <span class="math inline">\(E\)</span> 中选出满足约束条件的集合的同时, 也要要求其和 <span class="math inline">\(E\)</span> 能建立起某种联系 (方便近似比的导出). 下面来看这个关键的引理.</p>
<div class="note default no-icon"><p><strong>Lemma 2:</strong> For every integer <span class="math inline">\(0\leq j&lt;h\)</span> we have <span class="math display">\[
    f(T_j|\emptyset)\geq\frac{1}{4k}\sum_{\substack{0\leq i\leq\ell\\ i\equiv j\pmod{h}}}\sum_{u\in E_i}m(u)
\]</span></p>
</div>
<p><strong><em>Proof of Lemma 2:</em></strong> 由次模性 <span class="math display">\[
  f(T_j|\emptyset)=\sum_{u\in T_j}f(u|\text{Pre}(u,T_j))\geq\sum_{u\in T_j}f(u|\text{Pre}(u,E))=\sum_{u\in T_j}m(u)\tag{1}
\]</span> 我们记 <span class="math inline">\(T_j^i\)</span> 是从 <span class="math inline">\(E_j\)</span> 开始对 <span class="math inline">\(E_i\)</span> 做完 greedy 后得到的集合 (<span class="math inline">\(j\leq i\leq \ell, i\equiv j\pmod{h}\)</span>). 设 <span class="math inline">\(T_j^{j-h}=\emptyset\)</span>, 下面我们证明一个更强的结论 <span class="math display">\[
    \sum_{u\in T_j^i}m(u)\geq\frac{1}{4k}\sum_{\substack{j\leq r\leq i\\ r\equiv j\pmod{h}}}\sum_{u\in E_r}m(u)+\frac{|T_j^i|\tau}{2^{i+2}k},\quad \forall i\in[-h,\ell],\ i\equiv j(\text{mod}\ h)
\]</span> 我们对 <span class="math inline">\(i\)</span> 作归纳证明. 当 <span class="math inline">\(i&lt;0\)</span> 时, 显然不等式两边都为 0, 下面考虑 <span class="math inline">\(0\leq i\leq\ell\)</span> 的情况. 由于 <span class="math inline">\(T_j^{i}\)</span> 是 <span class="math inline">\(T_j^{i-h}\cup E_i\)</span> 的 base, 故 <span class="math inline">\(|E_i|\leq k|T_j^i|\)</span>, 再使用 <span class="math inline">\(i-h\)</span> 的归纳猜想, 我们有 <span class="math display">\[
  \begin{aligned}
    \sum_{u\in T_j^i}m(u)=&amp;\sum_{u\in T_j^i\backslash T_j^{i-h}}m(u)+\sum_{u\in T_j^{i-h}}m(u)\geq\Big(\frac{|E_i|}{k}-|T_j^{i-h}|\Big)\frac{\tau}{2^{i+1}}+\sum_{u\in T_j^{i-h}}m(u)\\
    \geq&amp;\frac{1}{4k}\sum_{u\in E_i}m(u)+\frac{|E_i|\tau}{2^{i+2}k}-\frac{|T_j^{i-h}|\tau}{2^{i+1}} + \frac{1}{4k}\sum_{\substack{j\leq r\leq i-h\\ r\equiv j\pmod{h}}}\sum_{u\in E_r}m(u)+\frac{|T_j^{i-h}|\tau}{2^{i-h+2}k}\\
    =&amp;\frac{1}{4k}\sum_{\substack{j\leq r\leq i\\ r\equiv j\pmod{h}}}\sum_{u\in E_r}m(u)+\frac{|E_i|\tau}{2^{i+2}k}+\frac{|T_j^{i-h}|\tau}{2^{i+2}k}(2^h-2k)\\
    \geq&amp;\frac{1}{4k}\sum_{\substack{j\leq r\leq i\\ r\equiv j\pmod{h}}}\sum_{u\in E_r}m(u)+\frac{|E_i|\tau}{2^{i+2}k}+\frac{|T_j^{i-h}|\tau}{2^{i+2}k}\\
    \geq&amp;\frac{1}{4k}\sum_{\substack{j\leq r\leq i\\ r\equiv j\pmod{h}}}\sum_{u\in E_r}m(u)+\frac{|T_j^i|\tau}{2^{i+2}k}
  \end{aligned}
\]</span> 故由归纳法知结论成立. 取 <span class="math inline">\(i=j+h\lfloor(\ell-j)/h\rfloor\)</span> 结合式 <span class="math inline">\((1)\)</span> 即知 Lemma 2 欲证式成立, 证毕.</p>
<div class="note primary no-icon"><h4 id="proposition-2">Proposition 2</h4>
<p>Alg. 2 stores <span class="math inline">\(O(\rho(\log\rho+\log k))\)</span> elements at every given time point. For a <span class="math inline">\(k\)</span>-system <span class="math inline">\((\mathcal{N},\mathcal{I})\)</span>, the algorithm returns a set <span class="math inline">\(T\)</span> such that <span class="math display">\[
    f(T)\geq\frac{f(E\cup S)-\tau/4}{4kh(2k+1)}
\]</span> for every set <span class="math inline">\(S\in\mathcal{I}\)</span>.</p>
</div>
<p><strong><em>Proof of Proposition 2:</em></strong> space complexity 是显然的. 另外可由 <span class="math display">\[
    \begin{aligned}
      f(T)\geq&amp;\frac{\sum_{j=0}^{h-1}f(T_j)}{h}\geq f(\emptyset)+\frac{1}{4kh}\sum_{j=0}^{h-1}\sum_{\substack{0\leq i\leq\ell\\ i\equiv j\pmod{h}}}\sum_{u\in E_i}m(u)\\
      =&amp;f(\emptyset)+\frac{1}{4kh}\sum_{i=0}^{\ell}\sum_{u\in E_i}m(u)\geq f(\emptyset)+\frac{f(E|\emptyset)}{4kh}\geq\frac{f(E\cup S)-\tau/4}{4kh(2k+1)}
    \end{aligned}
\]</span> 得到.</p>
<p>有了 Proposition 2 后我们就可以来分析对单调和非单调的目标函数的结果了. 当目标函数 <span class="math inline">\(f\)</span> 是单调的时候直接使用 Alg. 2 即可: 取 <span class="math inline">\(U=O\)</span>, 再由 <span class="math inline">\(\tau\leq2M\leq 2f(O)\)</span>, 得到 <span class="math display">\[
    f(T)\geq\frac{f(O)-f(O)/2}{4kh(2k+1)}\Rightarrow f(O)\leq8kh(2k+1)f(T)
\]</span> 而对于非单调的情形我们需要采用 Alg. 1 框架: 取 <span class="math inline">\(A=E\)</span> 根据定义可知 Alg. 2 是一个 <span class="math inline">\((4kh(2k+1),\tau/4)\)</span>-approximation 的 streaming 算法. 我们使用 Alg. 2 作为 Alg. 1 中的 <span class="math inline">\(\text{StreamingAlg}\)</span>, 使用 <a href="http://proceedings.mlr.press/v65/feldman17b/feldman17b.pdf">RepeatedGreedy</a> (此时 <span class="math inline">\(\beta=k+O(\sqrt{k})\)</span>) 作为 Alg. 1 中的 <span class="math inline">\(\text{ConstrainedAlg}\)</span>, 取 <span class="math inline">\(r=4\)</span> 就有 <span class="math display">\[
    f(T)\geq\frac{(4-1)f(O)-\tau}{4\alpha+6\beta}\geq\frac{3f(O)-2f(O)}{16kh(2k+1)+6(k+O(\sqrt{k}))}\Rightarrow f(O)\leq O(k^2\log k)f(T)
\]</span> 所以综合以上两种情况我们就有如下关于近似比的结论.</p>
<div class="note primary no-icon"><h4 id="proposition-3">Proposition 3</h4>
<p>There is a streaming <span class="math inline">\(O(k^2\log k)\)</span>-approximation algorithm for the problem of maximizing a non-negative submodular function subject to a <span class="math inline">\(k\)</span>-system constraint.</p>
</div>
<p>对于更强的 <span class="math inline">\(k\)</span>-extendible 约束, 有稍好的结果 (证略).</p>
<div class="note primary no-icon"><h4 id="proposition-4">Proposition 4</h4>
<p>There is a streaming <span class="math inline">\(O(k\log k)\)</span>-approximation algorithm for the problem of maximizing a non-negative submodular function subject to a <span class="math inline">\(k\)</span>-extendible system constraint.</p>
</div>
<p>由于无法预先知道 <span class="math inline">\(M,\rho\)</span>, 文章采取了逐步减弱条件的方式来达到同样效果.</p>
]]></content>
      <categories>
        <category>学习</category>
        <category>算法</category>
      </categories>
      <tags>
        <tag>submodular maximization</tag>
        <tag>optimization</tag>
      </tags>
  </entry>
  <entry>
    <title>同人 h 本画师收集</title>
    <url>/2020/11/10/illustrator_recommendation_s/</url>
    <content><![CDATA[<p>懂的都懂。</p>
<a id="more"></a>
<ol type="1">
<li><p><strong>YD</strong>  隶属社团：Orangemaru<br />
(COMIC1☆13) [OrangeMaru (YD)] スキル強化解禁 + OrangeMaru Special 04 (Fate/Grand Order)<br />
(COMIC1☆11) [OrangeMaru (YD)] TOKIMEKI ニオイ (アイドルマスター シンデレラガールズ)</p></li>
<li><p><strong>北原亜希</strong>  隶属社团：秘密結社M<br />
(C92) [秘密結社M (北原亜希)] 詩羽アナザーバッドエンド (冴えない彼女の育てかた)<br />
(C91) [秘密結社M (北原亜希)] 妊娠しちゃった...誰か「たすけて」。 (美少女戦士セーラームーン)</p></li>
<li><p><strong>あるぷ</strong>  隶属社团：リンゴヤ<br />
(C97) [リンゴヤ (あるぷ)] 松浦の休日 (ラブライブ！サンシャイン!!)<br />
(C96) [リンゴヤ (あるぷ)] 高海の休日～2日目～<br />
p.s. 此人非常肝，量大质高，强力推荐</p></li>
<li><p><strong>酔っ払い鬼?</strong>  隶属社团：CORORI<br />
(C94) [CORORI (酔っ払い鬼?)] かなかん身代わり果南ちゃんふんばルビィ! (ラブライブ! サンシャイン!!)<br />
(C97) [CORORI (酔っ払い鬼?)] かなかん 果南ちゃん大ピンチ(拉致編) (ラブライブ! サンシャイン!!)</p></li>
<li><p><strong>いちたか</strong>  隶属社团：Crazy9<br />
(C93) [Crazy9 (いちたか)] C9-33 女神様のハジメテ エレシュキガルの場合 (Fate/Grand Order)<br />
(COMIC1☆10) [Crazy9 (いちたか)] C9-24 鹿島とハジメテ (艦隊これくしょん -艦これ-)</p></li>
<li><p><strong>アサヒナヒカゲ</strong>  隶属社团：アカペンギン<br />
(C97) [アカペンギン (アサヒナヒカゲ)] 桐須先生が教える保健体育 (ぼくたちは勉強ができない)<br />
(C92) [アカペンギン (アサヒナヒカゲ)] たわわな後輩ちゃん (月曜日のたわわ)</p></li>
<li><p><strong>たまごろー</strong>  隶属社团：フニフニラボ<br />
(C97) [フニフニラボ (たまごろー)] たびのきろくに (ポケモンマスターズ)<br />
(C92) [フニフニラボ (たまごろー)] マオフレンズ (ポケットモンスター)</p></li>
<li><p><strong>きくらげ</strong>  隶属社团：きくらげ屋<br />
(C87) [きくらげ屋 (きくらげ )] 恋姦6 [中国翻訳]<br />
(C86) [きくらげ屋 (きくらげ )] 黒のリーマンと妖精姫エルニース<br />
p.s. 这位失联了</p></li>
<li><p><strong>白野ジア</strong>  隶属社团：シロジア<br />
(C93) [シロジア (白野ジア)] ゆきのひ。 (やはり俺の青春ラブコメはまちがっている。)<br />
[シロジア (白野ジア)] がまんして、ほしがって。 (やはり俺の青春ラブコメはまちがっている。)</p></li>
<li><p><strong>愛上陸</strong>  隶属社团：50on!<br />
(C95) [50on! (愛上陸)] 催眠性指導 倉敷麗華の場合<br />
(C96) [50on! (愛上陸)] 催眠性指導4 妊娠体験指導</p></li>
<li><p><strong>あらくれ</strong>  隶属社团：あらくれた者たち<br />
[あらくれた者たち (あらくれ)] 最高に食べごろの夜<br />
[あらくれた者たち (あらくれ)] 寝取られた人妻と寝取られる人妻</p></li>
<li><p><strong>キチロク</strong>  隶属社团：第6基地<br />
(C96) [第6基地 (キチロク)] 推シツケ<br />
(C97) [第6基地 (キチロク)] 女子大生高坂穂乃果のヤリサー事件簿 (ラブライブ!)</p></li>
<li><p><strong>イシガキタカシ</strong>  隶属社团：Type-G<br />
[Type-G (イシガキタカシ)] 雌神楽 -フェイト編1- (魔法少女リリカルなのは) [DL版]<br />
(C83) [Type-G (イシガキタカシ)] 桜花散る！ (マブラヴ オルタネイティブ トータル・イクリプス)<br />
p.s. 这位现在很少画同人了，目前是alicesoft的主力画师之一</p></li>
<li><p><strong>冷泉、和泉</strong>  隶属社团：サイクロン<br />
(C94) [サイクロン (冷泉、和泉)] T-32 hooollow (Fate/Grand Order)<br />
(C92) [サイクロン (和泉、冷泉)] T-30 Do (Fate/Grand Order)</p></li>
<li><p><strong>kiasa</strong>  隶属社团：ジョウ・レン騎士団<br />
(C90) [ジョウ・レン騎士団 (kiasa)] 青子BLUE IF (魔法使いの夜)<br />
(C93) [ジョウ・レン騎士団 (kiasa)] 桜檻 弐 (Fate/stay night) [中国翻訳]<br />
p.s. 是个樱厨</p></li>
<li><p><strong>ぐすたふ</strong>  隶属社团：てろめあな<br />
(C96) [てろめあな (ぐすたふ)] 水着の下の誘惑 (アイドルマスター シンデレラガールズ)<br />
(C95) [てろめあな (ぐすたふ)] 美波だって誘惑しますよ? (アイドルマスター シンデレラガールズ)<br />
p.s. 新田美波忠实单推人，产能不高但质量很棒</p></li>
<li><p><strong>クロエ</strong>  隶属社团：Sugar<em>Berry</em>Syrup<br />
(COMIC1☆15) [Sugar<em>Berry</em>Syrup (クロエ)] 恥辱の痴漢電車4～彼氏にせがまれ痴漢電車に乗った少女～<br />
[Sugar<em>Berry</em>Syrup (クロエ)] 淫溺の令嬢5 ～冷たいくちづけ～ + 蜜瓜特典</p></li>
<li><p><strong>清炭ハリケーン</strong>  隶属社团：清炭ハリケーン<br />
(C93) [清炭ハリケーン (清炭ハリケーン)] ONE-HURRICANE 6 (ワンパンマン)<br />
(C88) [清炭ハリケーン (清炭ハリケーン)] ONE-HURRICANE 囚われのフブキ (ワンパンマン)</p></li>
<li><p><strong>八尋ぽち</strong>  隶属社团：ぽぽちち<br />
[ぽぽちち (八尋ぽち)] レンタル彼女お触りします (彼女、お借りします)<br />
[ぽぽちち (八尋ぽち)] レンタル彼女お触りします02 (彼女、お借りします)</p></li>
<li><p><strong>稲鳴四季</strong>  隶属社团：studio A<br />
[studio A (稲鳴四季)] 奉仕部のいやらしい慰安旅行。 (やはり俺の青春ラブコメはまちがっている。)<br />
[studio A (稲鳴四季)] ある日の火照った女の子達。 (やはり俺の青春ラブコメはまちがっている。)</p></li>
<li><p><strong>アズマサワヨシ</strong>  隶属社团：A・L・L<br />
[A・L・L (アズマサワヨシ)] ご指名は？マリーちゃんで！ (デッド・オア・アライブ)<br />
[アズマサワヨシ] あやかし館へようこそ!<br />
p.s. 这位彻底上岸了</p></li>
<li><p><strong>みちきんぐ</strong>  隶属社团：あんみつよもぎ亭<br />
(C97) [あんみつよもぎ亭 (みちきんぐ)] わちきは赤ちゃんになり申した (東方Project)<br />
(C96) [あんみつよもぎ亭 (みちきんぐ)] ANMITSU TOUHOU THE AFTER Vol.2 (東方Project)</p></li>
<li><p><strong>あきのそら</strong>  隶属社团：ぺたパン<br />
(C91) [ぺたパン (あきのそら)] IROHA STORY 01 (やはり俺の青春ラブコメはまちがっている。)<br />
(C88) [ぺたパン (あきのそら)] LOVE STORY #02 (やはり俺の青春ラブコメはまちがっている。)<br />
p.s. 水陆两栖，同人本现在画得少了</p></li>
<li><p><strong>きょくちょ</strong>  隶属社团：きょくちょ局<br />
[きょくちょ局 (きょくちょ)] 遠坂姉妹凌辱-凛編- (Fate/stay night)<br />
[きょくちょ局 (きょくちょ)] 凛辱 (Fate/stay night)</p></li>
<li><p><strong>中乃空</strong>  隶属社团：In The Sky<br />
[In The Sky (中乃空)] 姉を寝取った日<br />
(C97) [In The Sky (中乃空)] 北斎純情乙女噺 (Fate/Grand Order)</p></li>
<li><p><strong>なかじまゆか</strong>  隶属社团：Digital Lover<br />
[Digital Lover (なかじまゆか)] 人妻幼馴染とひと夏のできごと3 DLO-14<br />
[Digital Lover (なかじまゆか)] 人妻幼馴染とひと夏のできごと DLO-07</p></li>
<li><p><strong>智弘カイ</strong>  隶属社团：Ink Complex<br />
(C97) [Ink Complex (智弘カイ)] 秘公開プラン<br />
(C92) [Ink Complex (智弘カイ)] The Dark Side of the Moon (アイドルマスター シンデレラガールズ)</p></li>
<li><p><strong>立花オミナ</strong>  隶属社团：しまぱん<br />
[しまぱん (立花オミナ)] P5ハーレム～双葉編～ (ペルソナ5)<br />
[しまぱん (立花オミナ)] P5ハーレム (ペルソナ5)</p></li>
<li><p><strong>桃屋しょう猫</strong>  隶属社团：U.R.C</p></li>
<li><p><strong>つかこ</strong>  </p></li>
<li><p><strong>井藤ななみ</strong>  </p></li>
</ol>
]]></content>
      <categories>
        <category>杂谈</category>
        <category>acg</category>
      </categories>
      <tags>
        <tag>manga</tag>
        <tag>xp</tag>
        <tag>lsp</tag>
      </tags>
  </entry>
  <entry>
    <title>pdf test</title>
    <url>/2021/03/12/pdftest_z/</url>
    <content><![CDATA[<center>
<strong>Here is a pdf file.</strong>
</center>
<a id="more"></a>
<p><br></p>
<p><div class="pdfobject-container" data-target="/notes.pdf" data-height="1000px"></div> <!-- <object data="/files/notes.pdf" type="application/pdf" width="100%" height="877px"> --></p>
<p><br></p>
]]></content>
      <categories>
        <category>学习</category>
        <category>算法</category>
      </categories>
      <tags>
        <tag>study notes</tag>
        <tag>submodular maximization</tag>
        <tag>optimization</tag>
      </tags>
  </entry>
  <entry>
    <title>重温“路人女主”至10卷的一些感受</title>
    <url>/2020/11/10/saekano_comment_s/</url>
    <content><![CDATA[<h3 id="序">序</h3>
  花了近一个月时间终于重温完了“路人女主”第8卷至第10卷，效率大不如从前（明明之前一个月都可以重温俺妹整部作品），简直就是怠惰的化身（你啊，真是怠惰呢！.jpg）。其实我个人不喜欢写长评的，因为需要花大量的时间来整理思绪和观点，但无奈当初自己第 10 卷看得草草了事，重温这小说第 10 卷给我带来的感受累积太多又使我不得不在最终章突入前写点东西来消化一下。同时动画也磕磕绊绊地看到了第二季的第 6 集（对应小说第 6 卷完），顺便也提一下吧。<br />
  
<center>
<em>温馨提示，<br/>以下的内容带有严重的剧透和强烈的个人主观，并且可能含有大量的过度解读，<br/>请读者酌情观看。</em>
</center>
<a id="more"></a>
<h3 id="游戏剧本和小说剧本的不同">游戏剧本和小说剧本的不同</h3>
<p>  看完第 10 卷的第一大感受。<br />
  重温到第 5 卷的之后我就一直认为，丸户老贼在这部作品中的亲女儿有两个——表加藤里霞之丘；前者是自己甚至作品相关人士花大量精力塑造出来的魅力女主角；后者是可以说是丸户自己的化身，同样地剧本家身份所以可以放进去自己大量的对创作剧本的私货，并且角色篇章具有强烈的个人色彩。至于英梨梨，硬扣一个“集万千宠爱于一身”的女主光环但实际着墨并不多，说是超有魅力的角色但除了设定之外从文字本身很难看出来（这一点动画反倒还好一些），看似是剧情的核心实则看下来就是个推动剧情强行急速发展的工具人，可以说是败犬中的败犬……咳咳，扯远了，总之，不出意外，作为学姐个人篇章，丸户老贼又如愿以偿了倾述了自己的大量私货。第五卷说的是自己对 galgame 和小说在行文上的观点，第10卷说的是自己对游戏剧情展开和小说剧情展开的观点。 <img src="/images/20201110_01.png" width="50%"> <!-- ![](https://ftp.bmp.ovh/imgs/2020/12/b9fb10d6505caa38.png) -->   当初读第 10 卷的时候因为阅历不多，或者说对游戏作品的剧情斟酌不多，所以第一次读很不理解红坂朱音对霞之丘剧本挑的刺。但玩了不少的 rpg，尤其是 jrpg 游戏之后，意外地能理解对方说的意思，甚至还十分赞同。游戏的剧情，作为 jrpg 游戏核心的一部分，可以通过画面的演出，游戏本身的玩法来对游戏主线剧情进行增色，这一点其实与动画等影视作品类似。与动画不同的是，因为游戏的核心是需要玩家自己上手操作的，游戏角色在非剧情部分大多是由玩家自己来决定的，所以通常玩家很容易将自己代入主角中，或者说给人更强的代入感；因此对游戏来说，在代入主角的前提下获得最棒的剧情体验，往往比剧情本身精不精彩更重要，这大概就是我认为诗羽学姐的剧本的最大毛病（虽然小说没详细说）。近期比较典型的例子就是 P5R 和美末 2，异度之刃 2 其实也有一点（比如真的塑造），剧情其实能接受，但玩家代入某个特定角色后很难产生共鸣，用文中的吐槽“还不如用平淡的文字来写一个俗套故事”然后使人们的注意力放在游戏除故事外的其他部分。<br />
  当然小说一般也会讲究代入感这个东西，不过还好的是，因为单纯用文字构成的小说，对主角的塑造和游戏大量的给人脑补的空间相比是固定的唯一的，所以读者会下意识的将主角和自己分裂开，就算会代入进角色也仍或多或少地站在上帝视角去感受故事的发展。这一点也是霞之丘诗羽作为小说家的写作特质。当然，对于喜欢从上帝视角看故事的人来说游戏剧情和小说剧情的体验可能没差距的。所以这大概也是文中说的“90%的人会觉得霞之丘写的是个好故事”，当然对于喜欢代入主角来看故事的人可能会相当不喜欢，丸户史明的“安艺伦也”也有类似的特质，我的一个朋友就明确表示完全不理解所以这作品完全没看下去。<br />
  同样地道理其实也可以套在后面霞之丘和安艺因为美少女游戏剧情的分歧上。Blessing software 做的是萌豚游戏，所以安艺伦也写的“与诗羽分别相约共同进步”初稿单纯作为视觉小说没准会不错，较为合乎逻辑的苦涩的现实中带有真实之上的甜蜜和喜悦。然而，作为受众为恶心宅男的萌豚游戏的剧本，不能和萌萌哒的美少女享受没羞没臊的恋爱，这样的故事无疑是个条雷线，活脱脱新岛夕的《想要传达给你的爱恋》的翻版，当然还是会有小众群体会接受吧。比较有趣的是，丸户史明老师在故事中对这条游戏吐槽 neta 了白 2，名字为 coda，丸户老贼自己也清楚自己写的故事与玩家的割裂感很严重啊，这样的主角完全代入不了嘛……其实霞之丘和安艺的核心分歧会在第二部分提及，这里就不再说了。<br />
  总之，游戏剧情和小说剧情是不一样的！和小说剧情！（neta 自《机动战士高达》兰拉·巴尔名台词）</p>
<h3 id="她亲手终结了自己的恋情">她亲手终结了自己的恋情</h3>
<p>  这个是我读完第 10 卷第二大，也可以说是印象最深的一个感受。<br />
  重温这作品第二遍的时候，我一直在想英梨梨和诗羽两人是怎么输的，在哪里出局的。英梨梨在故事最精彩的第 6 卷到第 7 卷，甚至延续到第 9 卷其实说的很清楚了，可以说是三位女主角中第一位出局的（这就是真败犬吗……）。第 9 卷安艺用剧本的方式，描绘了他理想中的英梨梨是什么样子，并且因为英梨梨的初恋 buff 所以他对英梨梨的要求很宽容，就算是为了梦想不断前行，只要不离开他，在他身边也能实现理想，他还是会接受英梨梨，所以所有人看完初稿的感受就是“他到底是有多喜欢英梨梨啊”（准确来说这里是我自己脑补的，原本对这里很模糊）。很可惜全场情商最低的英梨梨并没有理解到，还在坚持自己充满乙女向游戏的单纯想法，所以就出局了，或者说迟早会被学姐和加藤截胡。<br />
  说到霞之丘诗羽这边，就相对来说比较复杂。最初我以为是最早出局的，甚至最早看电子书的时候以为是在交代了她的过往的第 2 卷，诗羽学姐可以说是不可能再机会了，安艺伦也只把她当作创作者来看待而不是想追求的异性。看到后后面的时候又会觉得是第五卷安艺伦也再次拒绝选择结局而出局的，第 2 卷其实是在写诗羽重新对安艺伦也的富有魅力的创作者一面认识，重新燃起了恋心。重温之后又觉得第五卷其实就只是诗羽的自作多情（这一点加藤也提到过），安艺伦也的心思完全放在诗羽的剧情写法不适合 ADV 游戏这一点上，别的根本没在意，说白了就是一场误会，但却不知不觉为 6 到 7 卷的发展埋下了伏笔。所以重温到 6 卷和 GS1 时，觉得诗羽学姐是因为英梨梨的背叛，而自己在英梨梨钦定“娇弱”女主的光环觉得必须从创作者层面保护她支持她，所以也跟着背叛出局的，最后我又被男主的对这两个妹子放不下的执念打了脸，说白了就是对黑金的足够包容，自己能原谅对方，嘛，旧情难忘嘛，我懂得我懂得。转而就到了第 10 卷，在惠的鼓励包容下，安艺伦也开始整理自己对诗羽的感情，然后类似于第 9 卷的展开，写出了自己理想当中的诗羽学姐是什么模样，同时也传达了只要对方肯放下高傲的姿态，变得依赖他一点，他还是会接受的，只是这一次，学姐选择了拒绝。<br />
  没错，其实说了那么多，我觉得诗羽学姐出局的真正原因就是第 10 卷这里她作为创作者，作为安艺伦也理想的女神的自尊心和高姿态。并且文中极为执拗的是，她可以承认自己在生活上对男主的依赖，但不允许自己在工作和创作上依赖男主，可以说对自己的才华达到了自负的程度。但其实最有意思的是，诗羽变成这种执拗的个性个人觉得是因为受到了安艺伦也第一次拒绝之后走上了钻牛角尖的缘故（之前是比较依赖伦也的建议和评价的），所以说一开始就出局了也没错，并且还是安艺伦也一手造成的，迟早会因为当时埋下的祸根然后滚雪球式的爆发。反而第6卷加GS的剧情就不那么重要了，嘛，也难怪诸葛惠要求安艺“只能在她面前表现想着学姐哭泣”，这……被当事人看到了加藤还能赢？<br />
  当然，如果学姐渐渐放下了自己的高姿态和自尊心，会是怎样的展开呢？外传漫画《恋爱节拍器》其实就说的比较清楚了，虽然还有一些其他元素就是了。染上我的颜色吧，诗羽学姐！（neta 自《罗布奥特曼》） <img src="/images/20201110_04.png" width="50%"> <!-- ![](https://ftp.bmp.ovh/imgs/2020/12/f51951317253385a.png) -->   总的来讲，学姐的出局，与其说是安艺伦也的选择，倒不如说是自己的选择，前期因为安艺伦也的拒绝钻了牛角尖，后期因为牛角尖钻得太深出不来了。虽然说安艺的责任占比较多的元素。但是一个设定上情商较低，满脑子死宅幻想，同时因为小时候受过校园欺凌和好友背叛的高中生来说，如果不像加藤那样改变自己向对面的理想靠近，同时也时不时地改变对方向自己的理想靠近，确实没啥机会的（我特么都在说些啥……）。 在安艺对学姐线剧情的里设定里面就可以看出，安艺伦也的理想女性是不会背叛他，不会太执着于过去，并且还会向他撒娇的“真由”，这基本就是加藤表现出来的翻版（事实上加藤也是在第七卷之后完全理解他的，这个就是另一段故事了），然而学姐是把自己代入“沙由佳”的，精准踩雷，不愧是你。<br />
  总之，丸户史明老师在学姐的感情刻画上很有那种合乎情理和逻辑，但是将一个失误无限放大的滚雪球的纠结和悲情的个人色彩，很有自己当初玩对应白色相簿 2 的感觉，毕竟失误（春希一激动答应了雪菜的表白）都是一样的。</p>
<h3 id="尾声">尾声</h3>
<p>  霞之丘诗羽作为这部作品我第一眼看过去最喜欢的角色，黑长直，前凸后翘，黑丝，看似厚黑其实纤细娇弱的，看似成熟实则堪比英梨梨般单纯等多种特性其实满符合我口味的。最后不知不觉就洋洋洒洒写了近 4000 多字的长评，大多数在写什么老实说我自己都不清楚。<br />
<img src="/images/20201110_02.png" width="50%"> <!-- ![](https://ftp.bmp.ovh/imgs/2020/12/63e5a27ac6364ea5.png) -->   总而言之，充满了丸户史明个人恶趣味的诗羽学姐的剧情精彩归精彩，但我个人喜欢不起来（幸好突出我最期待的最终章了），把自己笔下的妹子逼成这样老实说 GOOD ENDING 还好，BAD ENDING 反而不禁让人觉得难以释怀。<br />
  至于动画，丸户史明老师多半也知道自己应该收敛，或者说正义的制作人、监督也压住了他的手，削减了很多丸户史明的个人风格，让原本一环扣一环的感情故事变得让人接受很多，比原作更像是恋爱喜剧动画，妹子们的萌元素加重了，沉重的感情元素减轻了，可以说做出了动画独有的特色。比如对应第 6 卷故事的第二季 5, 6 集，安艺的内心独白基本就没了，他对英梨梨的矛盾纠结的感情也没了。而之后的第 7 卷内容，加藤通过很多小细节增添了很多个人魅力，使得整体故事更像偏向于一个纯爱故事（什么是官方亲女儿.jpg）。同时原作沉重的感情出局，到了剧场版也变得相对容易接受，《DREAM TEAM TRIANGLE》响起，气氛到位就完事了，作为原作粉的我特么哭爆，就这点我还是更喜欢动画。<br />
  说句题外话，第 11 集和剧场版我就算时常回顾还是能感动得流泪，加藤惠太棒了。所以订购的剧场版 BD 赶紧到啊！👴快等不及了。 <img src="/images/20201110_03.png" width="50%"> <!-- ![](https://ftp.bmp.ovh/imgs/2020/12/5b77b2fbb0f22eab.png) --></p>
]]></content>
      <categories>
        <category>杂谈</category>
        <category>acg</category>
      </categories>
      <tags>
        <tag>lightnovel</tag>
      </tags>
  </entry>
  <entry>
    <title>雪影</title>
    <url>/2021/01/09/snowshadow_poem_s/</url>
    <content><![CDATA[<h1 id="雪影1">雪影<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></h1>
<p> </p>
<p>梦初醒，</p>
<p>你敲打着窗楹，</p>
<p>告知着仅存于今日的光景。</p>
<a id="more"></a>
<p> </p>
<p>玻瑞阿斯<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>一如往常地演奏着乐曲，</p>
<p>悠扬而又空灵。</p>
<p>身着洁白礼服的你，</p>
<p>犹如童话里的妖精，</p>
<p>舞姿轻盈，</p>
<p>歌颂着英杰们的事迹，</p>
<p>甜美而又动听。</p>
<p>置身琴后的阿波罗<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>为之吸引，</p>
<p>撩动云织的琴弦，</p>
<p>增添自己的一份豪情。</p>
<p>驻足倾听，</p>
<p>仿佛自己也置身于，</p>
<p>那波澜的歌声里。</p>
<p> </p>
<p>终曲如期来临，</p>
<p>盖亚母亲<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>张开怀抱，</p>
<p>等待即将回家的你。</p>
<p>我不禁伸手去挽留，</p>
<p>却只留下了你的泪滴，</p>
<p>和不知谁的叹息。</p>
<p> </p>
<p>如梦初醒<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>，</p>
<p>行人一如既往地踏步前行，</p>
<p>消失在远方的风里。</p>
<p>我将这悸动埋在心底，</p>
<p>期待着，</p>
<p>明年能与你共和一曲。</p>
<p> </p>
<blockquote>
<p>1 月 7 日，蓉城自清晨下大雪，一般路过研究生上工途中胡思乱想，原本想借这“雪花缓缓飘落到地上，自己伸手去抓什么都抓不到”的场景抒发一下忧郁，吐露一下自己去年的碌碌无为，觉得自己“不配”进入留在“歌”的英杰故事里，但又觉得太自卑了有伤身心健康，于是又算借“瑞雪兆丰年”讨个彩头，希望今年能有资格站在她身边“和歌”吧<em>（这么写感觉像是老舔狗了，这就是过来人吗？）</em>。</p>
</blockquote>
<section class="footnotes" role="doc-endnotes">
<hr />
<ol>
<li id="fn1" role="doc-endnote"><p><span style="font-family:楷体">雪影，原本想写成“舞蹈”，写着写着就变成“歌声”了……不过也可以理解成“雪音”的文字游戏。同时也想说自己只能看着雪的身影，不能抓住其实体<em>（因为入手即化，笑）</em>。</span><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2" role="doc-endnote"><p><span style="font-family:楷体">玻瑞阿斯，希腊神话中的北风神，这里将冬天的北风拟人化。</span><a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3" role="doc-endnote"><p><span style="font-family:楷体">琴后的阿波罗，指云层后的太阳，将云作为琴，将“风吹云动”说成是“拨动琴弦”。</span><a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4" role="doc-endnote"><p><span style="font-family:楷体">盖亚，希腊神话中大地母神的盖亚，近现代 ACG 印象经常误解成男性，比如盖亚奥特曼。</span><a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5" role="doc-endnote"><p><span style="font-family:楷体">毕竟也是大脑脑补的，说成是“梦”也没问题。</span><a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
]]></content>
      <categories>
        <category>杂谈</category>
        <category>生活</category>
      </categories>
      <tags>
        <tag>poem</tag>
      </tags>
  </entry>
  <entry>
    <title>Test</title>
    <url>/2020/11/10/test_z/</url>
    <content><![CDATA[<p>本来想写个测试文档作为第一篇博文来着，突然觉得记录一下搭建这个网站的过程也不错，名字还是叫 test 吧。具体搭建过程基本参考这个<a href="https://zhuanlan.zhihu.com/p/26625249">知乎专栏</a>，不过这篇文章写得并不全，有些细节丢失了之后导致某些地方有点卡手。我首先会把搭建时遇到的一些问题和解决方法列举一下（Part 1），之后应该会陆陆续续整点新功能，所以到时候就接着在这里补充一些遇到的新问题（Part 2）。</p>
<a id="more"></a>
<h2 id="part-1">Part 1</h2>
<h3 id="设置-ssh-以免密部署">设置 ssh 以免密部署</h3>
<p>在使用 <code>ssh-keygen</code> 生成密钥并于 github 上 add ssh key 后，先在 <code>~/.ssh</code> 里测试一下配置是否成功</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ssh -T git@github.com</span><br></pre></td></tr></table></figure>
<p>然后得到了成功提示如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Hi fomiuna! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</span><br></pre></td></tr></table></figure>
<p>其实按照原文章搞的话必不可能成功，因为 <code>ssh-agent</code> 并没有启动。所以需要</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">eval</span> `ssh-agent -s`</span><br><span class="line">ssh-add</span><br></pre></td></tr></table></figure>
<p>之后才可。接下来在博客根目录下的配置文件 <code>_config.yml</code> 中修改 deploy 属性如下</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">git@github.com:fomiuna/fomiuna.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure>
<p>若按原文直接在 repo 写 <code>https</code> 好像不太行，还是要输入密码。</p>
<h3 id="关于数学公式渲染">关于数学公式渲染</h3>
<p>我相信咱们还是会写点学习上的东西，不会一直在博客上吹逼吧，不会吧不会吧？<br />
咳咳，话题回来。本来我参考了这篇<a href="https://runninggump.github.io/2018/12/05/%E6%88%90%E5%8A%9F%E8%A7%A3%E5%86%B3%E5%9C%A8hexo%E4%B8%AD%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F%E7%9A%84%E9%97%AE%E9%A2%98/">博文</a>来配置 mathjax 渲染的，但是按这篇文章把 marked 引擎换成 kramed 后还是没卵用。然后我去 next 主题下的配置文件中瞅了一眼 mathjax 属性，发现注释中已经告诉我去官网看 <a href="https://theme-next.js.org/docs/third-party-services/math-equations">instruction</a> 了，于是按提示装了 pandoc 之后问题就得到了解决。</p>
<p>现在拿分部积分公式试一下效果： <span class="math display">\[
    \int_{\Omega}u\ \mathrm{div}(\mathbf{V})\mathrm{d}x = \int_{\partial\Omega}u\mathbf{V}\cdot \mathbf{n}\mathrm{d}S-\int_{\Omega}\mathrm{grad}(u)\cdot\mathbf{V}\mathrm{d}x
\]</span></p>
<p>（不错，我很满意）</p>
<h3 id="博文配图">博文配图</h3>
<p>参考一下<a href="https://yanyinhong.github.io/2017/05/02/How-to-insert-image-in-hexo-post/">这个</a>，咱们可能还是考虑一下外链比较好。</p>
<p>我先搞个本地的图试试看： <img src="/images/rushia.jpg" /></p>
<hr />
<p>其实第一次搞实在遇到了很多问题，跑去搜索并用了网上各种解决方案的之后，成功把网站搞崩了（怎么都加载不出来主题）并且不知道怎么纠正。后来还是老老实实读<a href="https://theme-next.js.org/muse/">官方文档</a>照着重新再做，基本就没再遇到什么问题了（所以小白还是不要先去整大佬们花里胡哨那一套）。</p>
<p><em>那么到此，一血（指第一篇博文）我就拿下了。</em></p>
<h2 id="part-2">Part 2</h2>
<h3 id="给文章加阴影边框">给文章加阴影边框</h3>
<p>在网上找了不少 adding shadow effect 的文章，都是需要在 <code>css\_custom\custom.styl</code> 文件中改 <code>.post</code> 属性。但因版本更新问题，在我使用的 NexT（ver 8.0.2）里已取消了此路径下的这个文件夹和样式表。<a href="https://theme-next.js.org/docs/advanced-settings/custom-files.html?highlight=custom">新的 Custom File Support</a> 告诉我们：可以在主题 config 文件中取消注释 <code>custom_file_path</code> 里面你想作个性化调整的属性，然后在博客根目录下的 <code>source\_data</code> 文件夹中进行相应文件（没有就新建）的自定义调整。</p>
<p>比如我们想要实现的这个功能是在 <code>style</code> 属性中，在主题 config 文件中开启 <code>custom_file_path</code> 的 <code>style</code> 选项后，再到 <code>source\_data\styles.styl</code> 中添加</p>
<figure class="highlight styl"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.post-block</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: black;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">25px</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.9</span>;</span><br><span class="line">    <span class="attribute">border-radius</span> : <span class="number">12px</span>; <span class="comment">// 圆角，爱了</span></span><br><span class="line">    -webkit-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">8px</span> rgba(<span class="number">128</span>, <span class="number">128</span>, <span class="number">128</span>, <span class="number">1.0</span>);</span><br><span class="line">    -moz-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">8px</span> rgba(<span class="number">128</span>, <span class="number">128</span>, <span class="number">128</span>, <span class="number">1.0</span>);</span><br><span class="line">    <span class="comment">// box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12);</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">25px</span>; <span class="comment">// 左右边距</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>p.s. 在我查官方文档前，先是在 <code>css\_common\components\post</code> 文件夹里逗留时找到了 <code>post.styl</code> 里的 <code>.post-block</code> 属性，然后试着把其他文章里给出的填写例子加进去</p>
<figure class="highlight styl"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">if</span> (hexo-config(<span class="string">&#x27;motion.transition.post_block&#x27;</span>)) &#123;</span><br><span class="line">  <span class="selector-class">.post-block</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">60px</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">60px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">25px</span>;</span><br><span class="line">    -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);</span><br><span class="line">    -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.pagination</span>, <span class="selector-class">.comments</span> &#123;</span><br><span class="line">    <span class="attribute">visibility</span>: hidden;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>不出所料也是起作用的。</p>
<h3 id="博客背景图片设置及-block-透明化处理">博客背景图片设置及 block 透明化处理</h3>
<p>仍在自定义的 <code>styles.styl</code> 里进行调整。需要注意的是对页面头所在的 <code>.header-inner</code> 样式里不能直接调整透明度 <code>opacity</code>，因为 <code>header-inner</code> 包含 <code>header.swig</code> 中的所有内容，若使用 <code>opacity</code> 进行配置，子结点会出很多问题（例如会影响到搜索框的透明度）。所以我们使用 <code>rgba</code> 来进行调整</p>
<figure class="highlight styl"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.header-inner</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: rgba(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.85</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>现在待解决的问题是如何在保持 post block 的透明化前提下对其中插入的图片做非透明化处理（透明化图片和背景会相互干扰，看上去很不舒服）。</p>
<p><font size=5><em>To be continued.</em></font></p>
]]></content>
      <categories>
        <category>杂谈</category>
        <category>生活</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>next</tag>
      </tags>
  </entry>
  <entry>
    <title>(ICML20) Streaming Algorithms for M$k$SC under Noise</title>
    <url>/2020/11/16/icml20_noisy_MkSC_z/</url>
    <content><![CDATA[<p>这几年次模优化里做 <span class="math inline">\(k\)</span>-submodular 的开始多起来了, 不过目前不管是 offline 还是 streaming setting 下, 大多做的都是无约束的最大化算法. 而基数约束问题 Maximize a <span class="math inline">\(k\)</span>-submodular function subject to Size Constraint (M<span class="math inline">\(k\)</span>SC) 的研究还较少, 且也仅限于单调函数的情况. ICML2020 里出现了一篇研究 streaming 下的 non-monotone M<span class="math inline">\(k\)</span>SC 算法的<a href="http://optnetsci.cise.ufl.edu/papers/icml20lan.pdf">文章</a>, 且文章还假设了对 objective function 的 query 是困难的, 只能间接获得一个 (有 bound 保证的) 真实值的估计 (就是所谓带噪数据). 这篇博文在介绍一下该论文的同时, 也是对 <span class="math inline">\(k\)</span> 次模函数的一个简单调研.</p>
<a id="more"></a>
<h2 id="preliminaries">Preliminaries</h2>
<h3 id="k-submodular-function"><span class="math inline">\(k\)</span>-submodular function</h3>
<p><span class="math inline">\(k\)</span>-submodular 函数是 submodular 函数的自然 extension. 给定 ground set 为 <span class="math inline">\(V\)</span>, 定义 <span class="math inline">\(V\)</span> 上的 <span class="math inline">\(k\)</span>-tuple 是 <span class="math inline">\(k\)</span> 个两两不交子集作为分量的 <span class="math inline">\(k\)</span> 维向量, 即 <span class="math display">\[
      (k+1)^{V}:=\{(S_1,\dots,S_k):S_i\subseteq V,S_i\cap S_j=\emptyset,\ \forall i\neq j,\ i,j\in[k]\}
  \]</span> 称函数 <span class="math inline">\(f:(k+1)^{V}\to\mathbb{R}_{\geq0}\)</span> 是 <span class="math inline">\(k\)</span>-submodular 的, 若对 <span class="math inline">\((k+1)^{V}\)</span> 里的任意两个元素 <span class="math inline">\(S=(S_1,\dots,S_k)\)</span> 和 <span class="math inline">\(T=(T_1,\dots,T_k)\)</span> 都有 <span class="math display">\[
    f(S)+f(T)\geq f(S\sqcap T)+f(S\sqcup T)
\]</span> 其中 <span class="math display">\[
      \begin{aligned}
        &amp; S\sqcap T := (S_1\cap T_1,\dots,S_k\cap T_k)\\
        &amp; S\sqcup T := \bigg((S_1\cup T_1)\Big\backslash\Big(\bigcup_{i\in[k]\backslash\{1\}}(S_i\cup T_i)\Big),\dots,(S_k\cup T_k)\Big\backslash\Big(\bigcup_{i\in[k]\backslash\{k\}}(S_i\cup T_i)\Big)\bigg)
      \end{aligned}
  \]</span></p>
<h3 id="notations-and-properties">Notations and properties</h3>
<ul>
<li>对 <span class="math inline">\(\mathbf{x}=(X_1,\dots,X_k)\in(k+1)^V\)</span>, 令 <span class="math inline">\(\text{supp}(\mathbf{x})=\cup_{i\in[k]}X_i\)</span>, 且记 <span class="math inline">\(\mathbf{x}\)</span> 特征函数为 <span class="math display">\[
    \mathbf{x}(e)=\begin{cases}
        i,&amp; \text{if}\ e\in X_i \\
        0,&amp; \text{if}\ e\in V\backslash\text{supp}(\mathbf{x})
    \end{cases}
\]</span> 为方便起见, 记 <span class="math inline">\(|\mathbf{x}|=|\text{supp}(\mathbf{x})|\)</span>. 特别地, 我们记 <span class="math inline">\(\mathbf{x}=\langle e,i\rangle\)</span>, 若 <span class="math inline">\(\mathbf{x}(e)=i,\mathbf{x}(e&#39;)=0,\forall e&#39;\in V\backslash\{e\}\)</span>. 另外, 我们记 <span class="math inline">\(i\)</span> 方向的 marginal gain 为 <span class="math display">\[
    \Delta_{e,i}f(\mathbf{x})=f(\mathbf{x}\sqcup\langle e,i\rangle)-f(\mathbf{x})
\]</span> 特别地, 若 <span class="math inline">\(\Delta_{e,i}f(\mathbf{x})\geq0\)</span> 对任意 <span class="math inline">\(\mathbf{x}\in(k+1)^V,\mathbf{x}(e)=0\)</span> 成立, 我们就说这个 <span class="math inline">\(k\)</span>-submodular 函数是单调的.</li>
<li>对 <span class="math inline">\((k+1)^V\)</span> 中的元素 <span class="math inline">\(\mathbf{x}=(X_1,\dots,X_k)\)</span> 和 <span class="math inline">\(\mathbf{y}=(Y_1,\dots,Y_k)\)</span>, 我们记 <span class="math inline">\(\mathbf{x}\sqsubseteq\mathbf{y}\)</span>, 若 <span class="math inline">\(X_i\subseteq Y_i\)</span>, <span class="math inline">\(\forall i\in[k]\)</span>. 显然, 由次模性我们可以推出 <span class="math display">\[
    \Delta_{e,i}f(\mathbf{y})\leq \Delta_{e,i}f(\mathbf{x}),\ \forall \mathbf{x}\sqsubseteq\mathbf{y},\mathbf{y}(e)=0
\]</span> 另外由次模性我们可以得到 <span class="math inline">\(k\)</span>-submodular 函数所谓 pairwise-monotone 的重要性质: <span class="math display">\[
    \Delta_{e,i}f(\mathbf{x})+\Delta_{e,j}f(\mathbf{x})\geq0,\ \forall \mathbf{x}\in(k+1)^V,\mathbf{x}(e)=0,i,j\in[k],i\neq j
\]</span></li>
<li>称函数 <span class="math inline">\(F:(k+1)^V\to\mathbb{R}\)</span> 是 <span class="math inline">\(f\)</span> 的 <span class="math inline">\(\epsilon\)</span>-estimate, 若 <span class="math display">\[
    (1-\epsilon)f(\mathbf{x})\leq F(\mathbf{x})\leq (1+\epsilon)f(\mathbf{x}),\ \forall\mathbf{x}\in(k+1)^V
\]</span></li>
</ul>
<h3 id="problem-definition">Problem definition</h3>
<p>给定一个有限集合 <span class="math inline">\(V\)</span>, 一个 <span class="math inline">\(k\)</span>-submodular 函数 <span class="math inline">\(f\)</span> 的 <span class="math inline">\(\epsilon\)</span>-estimate <span class="math inline">\(F\)</span> 和一个正整数 <span class="math inline">\(B\)</span>, 我们要解决如下问题 <span class="math display">\[
    \begin{aligned}
        \text{Maximize}&amp;\quad f(\mathbf{s}) \\
        \text{Subject to}&amp;\quad \mathbf{s}\in(k+1)^V,\ |\mathbf{s}|\leq B
    \end{aligned}
\]</span> 这个问题是 NP 难的 (并且我们仅知道带噪数据 <span class="math inline">\(F\)</span>, 且 streaming setting 下只能最多进行一次遍历全体数据 <span class="math inline">\(V\)</span> 的操作), 所以我们只能去寻求效果最好的近似解. 记理论上的一个最优解为 <span class="math inline">\(\mathbf{o}\)</span>, 即 <span class="math inline">\(f(\mathbf{o})=\text{max}_{|\mathbf{s}|\leq B}f(\mathbf{s})\)</span>. 容易看出 <span class="math inline">\(k=1\)</span> 时就是基数约束下的次模优化问题.</p>
<h2 id="algorithms">Algorithms</h2>
<p>文章首先提出了<strong>已知 <span class="math inline">\(f(\mathbf{o})\)</span> 的值</strong>的确定性算法.</p>
<div class="note info no-icon"><h3 id="alg.-1-dstream-with-known-fmathbfo">(Alg. 1) DStream with known <span class="math inline">\(f(\mathbf{o})\)</span></h3>
<p>input <span class="math inline">\(V,F,k,B,M\)</span> and <span class="math inline">\(o,\gamma\)</span> s.t. <span class="math inline">\(f(\mathbf{o})\geq o\times B\geq f(\mathbf{o})/(1+\gamma)\)</span><br />
initiate <span class="math inline">\(\mathbf{s}^0=\{\emptyset,\dots,\emptyset\}\)</span>, <span class="math inline">\(t=0\)</span><br />
<strong>for</strong> each <span class="math inline">\(e\in V\)</span>:<br />
  <strong>if</strong> <span class="math inline">\(|\mathbf{s}^t|&lt;B\)</span>:<br />
    find <span class="math inline">\(i=\text{argmax}_{i&#39;\in [k]}F(\mathbf{s}^t\sqcup\langle e,i&#39;\rangle)\)</span><br />
    <strong>if</strong> <span class="math inline">\(\frac{F(\mathbf{s}^t\sqcup\langle e,i\rangle)}{1-\epsilon}\geq(t+1)\frac{o}{M}\)</span>:<br />
      <span class="math inline">\(\mathbf{s}^{t+1}=\mathbf{s}^t\sqcup\langle e,i\rangle\)</span><br />
      <span class="math inline">\(t=t+1\)</span><br />
<strong>return</strong> <span class="math inline">\(\mathbf{s}^t\)</span> if <span class="math inline">\(f\)</span> is monotone; <span class="math inline">\(\text{argmax}_{\mathbf{s}\in\{\mathbf{s}^j:j\leq t\}}F(\mathbf{s})\)</span> if <span class="math inline">\(f\)</span> is non-monotone.</p>
</div>
<p>可以看出这个算法的开始类似梯度下降: 在每一轮对新的元素 <span class="math inline">\(e\)</span> 的处理时, 首先选择一个下降速度最快的方向 <span class="math inline">\(i\)</span>. 接着算法使用 <span class="math inline">\(\frac{F}{(1-\epsilon)(t+1)}\)</span> 来近似 (往大了取) 当前平均值 <span class="math inline">\(\frac{f}{t+1}\)</span>, 通过判断这个值和预先设定好的 threshold 值 <span class="math inline">\(\frac{o}{M}\)</span> 的大小关系来决定是否将 <span class="math inline">\(e\)</span> 加入到集合中. (即, 排除掉那些对集合贡献不大的元素.)</p>
<div class="note primary no-icon"><h4 id="proposition-1">Proposition 1</h4>
<p>If <span class="math inline">\(\mathbf{s}\)</span> is an output of Alg. 1 under monotone case, then it satisfies <span class="math display">\[
  f(\mathbf{o})\leq\max\Big\{(1+\gamma)(1+\epsilon),\frac{2+4B\epsilon}{M-1}\Big\}\frac{M}{1-\epsilon}f(\mathbf{s})
\]</span></p>
</div>
<p>如下为<strong>未知 <span class="math inline">\(f(\mathbf{o})\)</span> 的值</strong>时的确定性算法.</p>
<div class="note info no-icon"><h3 id="alg.-2-dstream-without-known-fmathbfo">(Alg. 2) DStream without known <span class="math inline">\(f(\mathbf{o})\)</span></h3>
<p>input <span class="math inline">\(V,F,k,B,M&gt;1,\gamma&gt;0\)</span><br />
initiate <span class="math inline">\(\Delta_u=\Delta_l=\Delta=0\)</span>, <span class="math inline">\(t_j=0,\forall j\in\mathbb{Z}^+\)</span><br />
<strong>for</strong> each <span class="math inline">\(e\in V\)</span>:<br />
  <span class="math inline">\(\Delta=\max\{\Delta,\max_{j\in[k]}F(\langle e,j\rangle)\}\)</span><br />
  <span class="math inline">\(\Delta_u=\Delta\big/(1-\epsilon),\ \ \Delta_l=\Delta\big/((1+\epsilon)(1+\gamma))\)</span><br />
  <span class="math inline">\(O=\{(1+\gamma)^j\ |\ \frac{\Delta_l}{BM}\leq(1+\gamma)^j\leq(1+\epsilon)\Delta_u\}\)</span><br />
  <strong>for</strong> each <span class="math inline">\(j\)</span> s.t. <span class="math inline">\((1+\gamma)^j\in O\)</span>:<br />
    <span class="math inline">\(o=M(1+\gamma)^j\)</span><br />
    <strong>if</strong> <span class="math inline">\(t_j&lt;B\)</span>:<br />
      <span class="math inline">\(i=\text{argmax}_{j&#39;\in[k]}F(\mathbf{s}_j^{t_j}\sqcup\langle e,j&#39;\rangle)\)</span><br />
      <strong>if</strong> <span class="math inline">\(\frac{F(\mathbf{s}_j^{t_j}\sqcup\langle e,i\rangle)}{1-\epsilon}\geq(t_j+1)\frac{o}{M}\)</span>:<br />
        <span class="math inline">\(\mathbf{s}_j^{t_j+1}=\mathbf{s}_j^{t_j}\sqcup\langle e,i\rangle\)</span><br />
        <span class="math inline">\(t_j=t_j+1\)</span><br />
<strong>return</strong> <span class="math inline">\(\text{argmax}_{\mathbf{s}_j^{t_j}:j\in O}F(\mathbf{s}_j^{t_j})\)</span> if <span class="math inline">\(f\)</span> is monotone; <span class="math inline">\(\text{argmax}_{\mathbf{s}_j^{i}:i\leq t_j,j\in O}F(\mathbf{s}_j^{i})\)</span> if <span class="math inline">\(f\)</span> is non-monotone.</p>
</div>
<p>这个算法的大致思路仍类似经典的 sieve streaming: 当我们不知道 <span class="math inline">\(f(\mathbf{o})\)</span> 时, 想办法构造一个包含 <span class="math inline">\([\frac{f(\mathbf{o})}{(1+\gamma)B},\frac{f(\mathbf{o})}{B}]\)</span> 的区间, 并在该区间内散布诸多 sieve 以期望其中有一个 sieve 能达到 Alg. 1 中 <span class="math inline">\(o\)</span> 的效果. 那么此时这个区间该如何估计? 由于 <span class="math inline">\(F\)</span> 的 <span class="math inline">\(\epsilon\)</span>-estimate 性质, 必然有 <span class="math display">\[
    (1-\epsilon)\max_{|\mathbf{x}|=1}f(\mathbf{x})\leq\max_{|\mathbf{x}|=1}F(\mathbf{x})\leq(1+\epsilon)\max_{|\mathbf{x}|=1}f(\mathbf{x})
\]</span> 利用次模性, 所以 <span class="math inline">\(\Delta_u=\max_{|\mathbf{x}|=1}\frac{F(\mathbf{x})}{1-\epsilon}\)</span> 就可作为 <span class="math inline">\(\frac{f(\mathbf{o})}{B}\)</span> 的一个 upper bound, <span class="math inline">\(\Delta_l/B=\max_{|\mathbf{x}|=1}\frac{F(\mathbf{x})}{(1+\epsilon)(1+\gamma)B}\)</span> 可作为 <span class="math inline">\(\frac{f(\mathbf{o})}{(1+\gamma)B}\)</span> 的一个 lower bound. 所以 sieve 集合 <span class="math inline">\(\{(1+\gamma)^j\ |\ j\in\mathbb{Z},\frac{\Delta_l}{BM}\leq(1+\gamma)^j\leq\frac{\Delta_u}{M}\}\)</span> 中就存在 <span class="math inline">\(v\)</span> 使得 <span class="math inline">\(vM\)</span> 是 <span class="math inline">\(o\)</span> 的一个理想值, <span class="math inline">\(v\)</span> 所对应的集合 <span class="math inline">\(S_v\)</span> 就是我们想要的估计值. 有了这个区间和筛子, 我们对每个到来的元素都分别对各个筛子过一遍 Alg. 1 就可以了.</p>
<p>那么现在的问题是, 我们并不能提前知道所有单元素集合中使得 <span class="math inline">\(f\)</span> 最大的那个. 所以算法中对上下界 <span class="math inline">\(\Delta_u,\Delta_l\)</span> 采取了 lazy estimation 的做法: 即取当前所见过的单元素集合的最大值. 事实上, 下界因为变小了, 对算法的正确性并没有什么影响, 而上界可能损失一些性质比较好的集合. 所以我们调整上界到让算法能包含当前能使得 <span class="math inline">\(S_v\)</span> 非空的最大的 <span class="math inline">\(v\)</span>. 由于 <span class="math display">\[
    \frac{F(\mathbf{s})}{1+\epsilon}\leq |\mathbf{s}|\max_{\mathbf{s}(e)\neq0,i\in[k]}\frac{F(\langle e,i \rangle)}{1-\epsilon}
\]</span> 故不等式 <span class="math display">\[
    \frac{F(\mathbf{s})}{1-\epsilon}&gt;\frac{(1+\epsilon)|\mathbf{s}|}{1-\epsilon}\max_{\mathbf{s}(e)\neq0,i\in[k]}\frac{F(\langle e,i \rangle)}{1-\epsilon}
\]</span> 必然不成立, 这启发我们取 <span class="math inline">\(\frac{o}{M}=M&#39;(1+\epsilon)\Delta_u\)</span>, 这里 <span class="math inline">\(M&#39;\)</span> 是可以任取一个大于 <span class="math inline">\(\frac{1}{1-\epsilon}\)</span> 的常数. 所以算法的 sieve 集合可取为 <span class="math display">\[
\Big\{(1+\gamma)^j\ |\ j\in\mathbb{Z},\frac{\Delta_l}{BM}\leq(1+\gamma)^j\leq\frac{M&#39;}{M}(1+\epsilon)\Delta_u\Big\}
\]</span> (这里跟原文取的不太一样, 原文中对应这里直接取了 <span class="math inline">\(M&#39;=M\)</span>, 有点令人费解. 另外原算法中 <span class="math inline">\(j\)</span> 仅取正整数其实是没有道理的, 因为根据我们的分析 <span class="math inline">\(j\)</span> 完全是可以取到负值的.)</p>
<div class="note primary no-icon"><h4 id="proposition-2">Proposition 2</h4>
<p>DStream has query complexity of <span class="math inline">\(O\bigg(\frac{|V|k}{\gamma}\log\Big(\frac{(1+\epsilon)(1+\gamma)}{1-\epsilon}BM\Big)\bigg)\)</span> and takes <span class="math inline">\(O\bigg(\frac{B}{\gamma}\log\Big(\frac{(1+\epsilon)(1+\gamma)}{1-\epsilon}BM\Big)\bigg)\)</span> memory. If <span class="math inline">\(f\)</span> is monotone, the approximation ratio is <span class="math display">\[
  \frac{1+\epsilon}{(1-\epsilon)^2}\min_{x\in(1,M]}\max\bigg\{(1+\gamma)(1+\epsilon)x,\frac{(2+4B\epsilon)x}{x-1}\bigg\}
\]</span> If <span class="math inline">\(f\)</span> is non-monotone, then the ratio is <span class="math display">\[
    \frac{1+\epsilon}{(1-\epsilon)^2}\min_{x\in(1,M]}\max\bigg\{(1+\gamma)(1+\epsilon)x,\frac{(3+4\epsilon+6\epsilon B+\epsilon^2+2\epsilon^2 B)x}{(1-\epsilon)(x-1)}\bigg\}
\]</span></p>
</div>
<p>下面介绍论文提出的一个随机算法.</p>
<div class="note info no-icon"><h3 id="alg.-3-rstream">(Alg. 3) RStream</h3>
<p>input <span class="math inline">\(V,F,k,B,M&gt;1,\gamma&gt;0,\eta\geq1\)</span><br />
initiate <span class="math inline">\(\Delta_u=\Delta_l=\Delta=0\)</span>, <span class="math inline">\(t_{j,\epsilon&#39;}=0,\forall j\in\mathbb{Z}^+,\epsilon&#39;\in\mathbb{R}^+\)</span><br />
<strong>for</strong> each <span class="math inline">\(e\in V\)</span>:<br />
  <span class="math inline">\(\Delta=\max\{\Delta,\max_{j\in[k]}F(\langle e,j\rangle)\}\)</span><br />
  <span class="math inline">\(\Delta_u=\frac{(1+\epsilon)^2+4\epsilon B}{(1-\epsilon^2)(1-\epsilon)}\Delta,\ \ \Delta_l=\Delta\big/((1+\epsilon)(1+\gamma))\)</span><br />
  <span class="math inline">\(O=\{(1+\gamma)^j\ |\ \frac{\Delta_l}{BM}\leq(1+\gamma)^j\leq\Delta_u\}\)</span><br />
  <strong>for</strong> each <span class="math inline">\(j\)</span> s.t. <span class="math inline">\((1+\gamma)^j\in O\)</span>:<br />
    <span class="math inline">\(o=M(1+\gamma)^j\)</span><br />
    <strong>for</strong> each <span class="math inline">\(\epsilon&#39;=\epsilon,\frac{(\eta-2)\epsilon}{\eta-1},\frac{(\eta-3)\epsilon}{\eta-1},\dots,0\)</span>:<br />
      <strong>if</strong> <span class="math inline">\(t_{j,\epsilon&#39;}&lt;B\)</span>:<br />
        <strong>for</strong> each <span class="math inline">\(i\in[k]\)</span>:<br />
          <span class="math inline">\(d_i=\frac{F(\mathbf{s}_{j\epsilon&#39;}^{t_{j,\epsilon&#39;}}\sqcup\langle i,e\rangle)}{1-\epsilon&#39;}-\frac{F(\mathbf{s}_{j\epsilon&#39;}^{t_{j,\epsilon&#39;}})}{1+\epsilon&#39;}\)</span><br />
          <span class="math inline">\(d_i=0\)</span> <strong>if</strong> <span class="math inline">\(d_i&lt;\frac{o}{M}\)</span><br />
        <span class="math inline">\(T=|\{i\ |\ d_i&gt;0\}|\)</span><br />
        <span class="math inline">\(D=\sum_{i\in[k]}d_i^{T-1}\)</span><br />
        <strong>if</strong> <span class="math inline">\(t_{j,\epsilon&#39;}&lt;B\)</span> and <span class="math inline">\(T&gt;0\)</span>:<br />
          <strong>if</strong> <span class="math inline">\(T=1\)</span>:<br />
            <span class="math inline">\(i=\)</span> the only one that <span class="math inline">\(d_i&gt;0\)</span><br />
          <strong>else</strong>:<br />
            <span class="math inline">\(i=\)</span> selected with prob. <span class="math inline">\(d_i^{T-1}\big/D\)</span><br />
          <span class="math inline">\(\mathbf{s}_{j,\epsilon&#39;}^{t_{j,\epsilon&#39;}+1}=\mathbf{s}_{j,\epsilon&#39;}^{t_{j,\epsilon&#39;}}\sqcup\langle e,i\rangle\)</span><br />
          <span class="math inline">\(t_{j,\epsilon&#39;}=t_{j,\epsilon&#39;}+1\)</span><br />
<strong>return</strong> <span class="math inline">\(\text{argmax}_{\mathbf{s}_{j,\epsilon&#39;}^{t_{j,\epsilon&#39;}}:j\in O}F(\mathbf{s}_{j,\epsilon&#39;}^{t_{j,\epsilon&#39;}})\)</span> if <span class="math inline">\(f\)</span> is monotone; <span class="math inline">\(\text{argmax}_{\mathbf{s}_{j,\epsilon&#39;}^{i}:i&lt;t_{j,\epsilon&#39;},j\in O}F(\mathbf{s}_{j,\epsilon&#39;}^{i})\)</span> if <span class="math inline">\(f\)</span> is non-monotone.</p>
</div>
<p>类似之前的想法, 我们仍然需要找出一个合适的 <span class="math inline">\(o\)</span> 使得 <span class="math inline">\(f(\mathbf{o})\geq oB\geq f(\mathbf{o})\big/(1+\gamma)\)</span>. 但是我们不会直接使用 <span class="math inline">\(\text{argmax}\)</span> 方向, 而是对所有 marginal gain 超过 threshold 的方向按比例随机选择其一来加入到 <span class="math inline">\(\mathbf{s}\)</span> 中: 首先我们使用 <span class="math inline">\(d_i\)</span> 来"近似"表达 marginal gain, (因子 <span class="math inline">\(1/(1-\epsilon),1/(1+\epsilon)\)</span> 是为了考虑到 <span class="math inline">\(F(\mathbf{s}\sqcup\langle e,i\rangle)&lt;F(\mathbf{s})\)</span> 最坏的情况.) 并且我们将没有超过 threshold 的 <span class="math inline">\(d_i\)</span> 置零. 然后按概率 <span class="math display">\[
  \mathrm{Pr}[\langle e,i\rangle\ \text{is added to }\mathbf{s}] = d_i^{T-1}\Big/\sum_{j\in[k]}d_j^{T-1}
\]</span> 进行选择, <span class="math inline">\(T=|\{i\ |\ d_i&gt;0\}|\)</span>.</p>
<p>这样简单的处理有一个问题: <span class="math inline">\(d_i\)</span> 作为我们想要求的 <span class="math inline">\(f(\langle e,i\rangle|\mathbf{s})\)</span> 估计值可能效果很差. 例如若 <span class="math inline">\(F(\mathbf{s})\approx f(\mathbf{s})=f(\mathbf{s}\sqcup\langle e,i\rangle)\approx F(\mathbf{s}\sqcup\langle e,i\rangle)\)</span>, 此时 <span class="math inline">\(d_i\approx\frac{2\epsilon}{1-\epsilon^2}f(\mathbf{s})\)</span>, 这可能使得选择方向 <span class="math inline">\(i\)</span> 的几率非零, 即使真实的 marginal gain 此时为 0. 为了解决这个问题, 文章在算法中引入了 <span class="math inline">\(\eta\)</span> 来将 <span class="math inline">\(\epsilon\)</span> 拆分成一系列 <span class="math inline">\(\epsilon&#39;(\to0)\)</span> 来实现某种去随机化的效果: 对每个 <span class="math inline">\(\epsilon&#39;\)</span>, 将 <span class="math inline">\(F\)</span> 视作 <span class="math inline">\(\epsilon&#39;\)</span>-estimate 进行计算, 即对每个 sieve <span class="math inline">\(j\)</span>, 都有一串 <span class="math inline">\(\{t_{j,\epsilon&#39;}\}_{\epsilon&#39;}\)</span> 来记录各个 <span class="math inline">\(\epsilon&#39;\)</span> 下集合的大小.</p>
<p>那么这个时候的 <span class="math inline">\(\Delta_u\)</span> 如何选择? 首先 <span class="math display">\[
    \frac{F(\mathbf{s}\sqcup\langle i,e\rangle)}{1-\epsilon}-\frac{F(\mathbf{s})}{1+\epsilon}=\frac{1}{1-\epsilon^2}\Big(F(\mathbf{s}\sqcup\langle i,e\rangle)-F(\mathbf{s})+\epsilon\big(F(\mathbf{s}\sqcup\langle i,e\rangle)+F(\mathbf{s})\big)\Big)
\]</span> 注意到 <span class="math display">\[
  \begin{aligned}
    F(\mathbf{s}\sqcup\langle i,e\rangle)-F(\mathbf{s})\leq&amp;(1+\epsilon)f(\mathbf{s}\sqcup\langle i,e\rangle)-(1-\epsilon)f(\mathbf{s})\\
    =&amp;f(\mathbf{s}\sqcup\langle i,e\rangle)-f(\mathbf{s})+\epsilon\big(f(\mathbf{s}\sqcup\langle i,e\rangle)+f(\mathbf{s})\big)\\
    \leq&amp;\frac{\Delta}{1-\epsilon}+2B\epsilon\Delta
  \end{aligned}
\]</span> 故可取 (和原文仍稍有出入) <span class="math display">\[
  \frac{1}{1-\epsilon^2}\Big(\frac{\Delta}{1-\epsilon}+2B\epsilon\Delta+2B(1+\epsilon)\epsilon\Delta\Big)\leq\frac{1+4B\epsilon}{(1-\epsilon^2)(1-\epsilon)}\Delta=\Delta_u
\]</span></p>
<div class="note primary no-icon"><h4 id="proposition-3">Proposition 3</h4>
<p>RStream has query complexity of <span class="math inline">\(O\bigg(\frac{\eta|V|k}{\gamma}\log\Big(\frac{(1+\gamma)((1+\epsilon)^2+4\epsilon B)}{(1-\epsilon)^2}BM\Big)\bigg)\)</span> and takes <span class="math inline">\(O\bigg(\frac{\eta B}{\gamma}\log\Big(\frac{(1+\gamma)((1+\epsilon)^2+4\epsilon B)}{(1-\epsilon)^2}BM\Big)\bigg)\)</span> memory. If <span class="math inline">\(f\)</span> is monotone, the approximation ratio is <span class="math display">\[
  \frac{1+\epsilon}{1-\epsilon}\min_{x\in(1,M]}\max\bigg\{\frac{(1+\epsilon+2B\epsilon)(1+\gamma)x}{1-\epsilon},\Big(\frac{(1+\epsilon)^2+4B\epsilon}{1-\epsilon^2}(1-k^{-1})+1\Big)\frac{kx}{kx-k-1}\bigg\}
\]</span> If <span class="math inline">\(f\)</span> is non-monotone, then the ratio is <span class="math display">\[
    \frac{1+\epsilon}{1-\epsilon}\min_{x\in(1,M]}\max\bigg\{\frac{(1+\epsilon+2B\epsilon)(1+\gamma)x}{1-\epsilon},\frac{(3k-2)(1+\epsilon)^2+(8k-8)\epsilon B}{(1-\epsilon)^2}\frac{x}{kx-k-2}\bigg\}
\]</span></p>
</div>
<h2 id="greedy-on-f">Greedy on <span class="math inline">\(F\)</span></h2>
<p>现在我们考虑直接使用 greedy 算法的效果.</p>
<div class="note info no-icon"><h3 id="alg.-4-greedy-algorithm">(Alg. 4) Greedy Algorithm</h3>
<p>input <span class="math inline">\(V,F,k,B\)</span><br />
initiate <span class="math inline">\(\mathbf{s}^0=\{\emptyset,\dots,\emptyset\}\)</span><br />
<strong>for</strong> <span class="math inline">\(t=1\)</span> to <span class="math inline">\(B\)</span>:<br />
  <span class="math inline">\(e,i=\text{argmax}_{e\in V\backslash\text{supp}(\mathbf{s}),i\in[k]}F(\mathbf{s}^{t-1}\sqcup\langle e,i\rangle)\)</span>:<br />
  <span class="math inline">\(\mathbf{s}^{t}=\mathbf{s}^{t-1}\sqcup\langle e,i\rangle\)</span><br />
<strong>return</strong> <span class="math inline">\(\mathbf{s}^B\)</span> if <span class="math inline">\(f\)</span> is monotone; <span class="math inline">\(\text{argmax}_{\mathbf{s}\in\{\mathbf{s}^j:j\leq B\}}F(\mathbf{s})\)</span> if <span class="math inline">\(f\)</span> is non-monotone.</p>
</div>
<div class="note primary no-icon"><h4 id="proposition-4">Proposition 4</h4>
<p>If <span class="math inline">\(\mathbf{s}\)</span> is an output of Alg. 4 under monotone case, then it satisfies <span class="math display">\[
  f(\mathbf{o})\leq\frac{2+2\epsilon B}{1-\epsilon}f(\mathbf{s})
\]</span></p>
</div>
<p><strong><em>Proof of Proposition 4:</em></strong> 设 <span class="math inline">\(e^j,i^j\)</span> 是算法第 <span class="math inline">\(j\)</span> 轮选中的元素和方向, 按如下方式构造 <span class="math inline">\(\{\mathbf{o}^j\}\)</span> 序列:</p>
<ul>
<li><p><span class="math inline">\(\mathbf{o}^0=\mathbf{o}\)</span></p></li>
<li><p>当 <span class="math inline">\(j&gt;0\)</span> 时, 记 <span class="math inline">\(S^j=\text{supp}(\mathbf{o}^{j-1})\backslash\text{supp}(\mathbf{s}^{j-1})\)</span>. 并令 <span class="math display">\[
    o^j=\begin{cases}
      e^j,&amp;\text{if}\ e^j\in S^j\\
      \text{an arbitrary element in }S^j,&amp;\text{otherwise}
    \end{cases}
\]</span> 再定义 <span class="math inline">\(\mathbf{o}^{j-1/2},\mathbf{o}^{j},\mathbf{s}^{j-1/2}\in(k+1)^V\)</span> 使得</p>
<span class="math display">\[\begin{aligned}
    &amp;\mathbf{o}^{j-1/2}(e)=\begin{cases}
      0,&amp; e=o^j\\
      \mathbf{o}^{j-1}(e),&amp; e\in V\backslash\{o^j\}
    \end{cases},\ \

    \mathbf{o}^{j}(e)=\begin{cases}
      i^j,&amp; e=e^j\\
      \mathbf{o}^{j-1/2}(e),&amp; e\in V\backslash\{e^j\}
    \end{cases},\\

    &amp;\mathbf{s}^{j-1/2}(e)=\begin{cases}
      i^j,&amp; e=o^j\\
      \mathbf{s}^{j-1}(e),&amp; e\in V\backslash\{o^j\}
    \end{cases}
  \end{aligned}\]</span>
<p>(简单解释就是, 对第 <span class="math inline">\(j\)</span> 轮选出的 <span class="math inline">\(i,e\)</span>, 若 <span class="math inline">\(e\in\text{supp}(\mathbf{o}^{j-1})\backslash\text{supp}(\mathbf{s}^{j-1})\)</span>, 则构造 <span class="math inline">\(\mathbf{o}^j\)</span> 为从 <span class="math inline">\(\mathbf{o}^{j-1}\)</span> 里删掉元素 <span class="math inline">\(e\)</span> 后再重新把 <span class="math inline">\(e\)</span> 加到 <span class="math inline">\(i\)</span> 位置上; 若 <span class="math inline">\(e\notin\text{supp}(\mathbf{o}^{j-1})\backslash\text{supp}(\mathbf{s}^{j-1})\)</span>, 则构造 <span class="math inline">\(\mathbf{o}^j\)</span> 为从 <span class="math inline">\(\text{supp}(\mathbf{o}^{j-1})\backslash\text{supp}(\mathbf{s}^{j-1})\)</span> 任意选一个元素在 <span class="math inline">\(\mathbf{o}^{j-1}\)</span> 中删去后, 再将 <span class="math inline">\(e\)</span> 加到第 <span class="math inline">\(i\)</span> 个位置的集合中去. 而 <span class="math inline">\(\mathbf{o}^{j-1/2}\)</span> 就表示删掉元素后而 <span class="math inline">\(e\)</span> 尚未加入前时的中间量, <span class="math inline">\(\mathbf{s}^{j-1/2}\)</span> 是将被从 <span class="math inline">\(\mathbf{o}^{j-1}\)</span> 删去的元素加到 <span class="math inline">\(\mathbf{s}^{j-1}\)</span> 的第 <span class="math inline">\(i\)</span> 位置上去的辅助量.)</p></li>
</ul>
<p>显然, <span class="math inline">\(\mathbf{s}^j\sqsubseteq\mathbf{o}^j,\mathbf{s}^B=\mathbf{o}^B\)</span> (W.L.O.G. 设 <span class="math inline">\(|\mathbf{o}|=|\mathbf{s}|=B\)</span>). 结合单调性, greedy, 次模性, 我们有 <span class="math display">\[
  \begin{aligned}
    f(\mathbf{o}^{j-1})-f(\mathbf{o}^{j})\leq&amp;f(\mathbf{o}^{j-1})-f(\mathbf{o}^{j-1/2})\leq f(\mathbf{s}^{j-1/2})-f(\mathbf{s}^{j-1})\\
    \leq&amp;\frac{1}{1-\epsilon}F(\mathbf{s}^{j-1/2})-f(\mathbf{s}^{j-1})\leq\frac{1}{1-\epsilon}F(\mathbf{s}^{j})-f(\mathbf{s}^{j-1})\\
    \leq&amp;\frac{1+\epsilon}{1-\epsilon}f(\mathbf{s}^{j})-f(\mathbf{s}^{j-1})
  \end{aligned}
\]</span> 因此 <span class="math display">\[
  \begin{aligned}
    f(\mathbf{o})-f(\mathbf{s})=&amp;\sum_{j=1}^B\Big(f(\mathbf{o}^{j-1})-f(\mathbf{o}^j)\Big)\leq\sum_{j=1}^B\Big(\frac{1+\epsilon}{1-\epsilon}f(\mathbf{s}^{j})-f(\mathbf{s}^{j-1})\Big)\\
    \leq&amp;\frac{1+\epsilon}{1-\epsilon}f(\mathbf{s})+\sum_{j=1}^B\frac{2\epsilon}{1-\epsilon}f(\mathbf{s}^{j})\leq\frac{1+\epsilon+2\epsilon B}{1-\epsilon}f(\mathbf{s})
  \end{aligned}
\]</span> 得证.</p>
<details class="note default no-icon"><summary><p><strong>RMK 1</strong></p>
</summary>
<p>从这个证明我们可以看出单调 <span class="math inline">\(k\)</span>-submodular 函数在 cardinality 约束下的近似比只能做到 <span class="math inline">\(1/2\)</span>. 回想 <span class="math inline">\(k=1\)</span> 时最佳近似比 <span class="math inline">\(1-1/e\)</span> 的证明过程中用到的关键不等式 <span class="math display">\[
  f(O)-f(S^{j-1})\leq\sum_{e\in O\backslash S^{j-1}}\Delta_ef(S^{j-1})\leq B(f(S^j)-f(S^{j-1}))
\]</span> 在高维情况下是不起作用的, 因为元素的加入在纵向上按时间排列的同时, 在横向上对集合也有区别, 这就造成了 <span class="math inline">\(f(\mathbf{o})-f(\mathbf{s}^{j-1})\)</span> 无法简单展开, 即类似 <span class="math inline">\(f(\mathbf{o}|\mathbf{s})\)</span> 的表达在高维时会出现问题. 当然, 在固定其他 <span class="math inline">\(k-1\)</span> 个集合的情形下, <span class="math inline">\(f\)</span> 对单个位置上还是有次可加性的, 但总体上来看, 我们也许只能得到 <span class="math display">\[
    f(S_1,\dots,S_k)\leq\bigg|\bigcup_{j\in[k]}S_j\bigg|\sum_{i\in[k]}\Big(\frac{1}{|S_i|}\sum_{e\in S_i}f(\langle e,i\rangle)\Big)
\]</span></p>

</details>
<div class="note primary no-icon"><h4 id="proposition-5">Proposition 5</h4>
<p>If <span class="math inline">\(\mathbf{s}\)</span> is an output of Alg. 4 under non-monotone case, then it satisfies <span class="math display">\[
  f(\mathbf{o})\leq\frac{3+\epsilon+4\epsilon B}{1-\epsilon}f(\mathbf{s})
\]</span></p>
</div>
<p><strong><em>Proof of Proposition 5:</em></strong> 仍然像上面构造 <span class="math inline">\(\mathbf{o}^j,\mathbf{o}^{j-1/2}\)</span>. 由 pairwise-monotonicity, 必存在 <span class="math inline">\(i&#39;\in[k]\)</span> 使得 <span class="math inline">\(f(\mathbf{s}^{j-1}\sqcup\langle e^j,i&#39;\rangle)\geq f(\mathbf{s}^{j-1})\)</span>. 另外由 greedy 选择: <span class="math display">\[
  f(\mathbf{s}^{j-1}\sqcup\langle e^j,i&#39;\rangle)\leq\frac{1}{1-\epsilon}F(\mathbf{s}^{j-1}\sqcup\langle e^j,i&#39;\rangle)\leq\frac{1}{1-\epsilon}F(\mathbf{s}^j)\leq\frac{1+\epsilon}{1-\epsilon}f(\mathbf{s}^j)
\]</span> 考虑如下三种情况:</p>
<ul>
<li><span class="math inline">\(\mathbf{o}^{j-1}(e^j)=i^j\)</span>. 此时 <span class="math inline">\(e^j\)</span> 不动, <span class="math inline">\(\mathbf{o}^{j}=\mathbf{o}^{j-1}\)</span>, 故 <span class="math inline">\(f(\mathbf{o}^{j-1})-f(\mathbf{o}^j)=0\leq\frac{1+\epsilon}{1-\epsilon}f(\mathbf{s}^j)-f(\mathbf{s}^{j-1})\)</span>.</li>
<li><span class="math inline">\(\mathbf{o}^{j-1}(e^j)=0\)</span>. 此时 <span class="math inline">\(e^j\)</span> 与 <span class="math inline">\(\text{supp}(\mathbf{o}^{j-1})\backslash\text{supp}(\mathbf{s}^{j-1})\)</span> 中的某个元素进行交换. 令任一 <span class="math inline">\(i&#39;\in[k]\backslash\{i^j\}\)</span>, 有 <span class="math display">\[
  \begin{aligned}
    f(\mathbf{o}^{j-1})-f(\mathbf{o}^{j})=&amp;f(\mathbf{o}^{j-1})+f(\mathbf{o}^{j-1/2}\sqcup\langle e^j,i&#39;\rangle)-2f(\mathbf{o}^{j-1/2})-\Big(f(\mathbf{o}^{j-1/2}\sqcup\langle e^j,i&#39;\rangle)+f(\mathbf{o}^{j})-2f(\mathbf{o}^{j-1/2})\Big)\\
    \leq&amp;f(\mathbf{o}^{j-1})+f(\mathbf{o}^{j-1/2}\sqcup\langle e^j,i&#39;\rangle)-2f(\mathbf{o}^{j-1/2})\\
    \leq &amp;f(\mathbf{s}^{j-1/2})+f(\mathbf{s}^{j-1}\sqcup\langle e^j,i&#39;\rangle)-2f(\mathbf{s}^{j-1})\\
    \leq&amp;\frac{1}{1-\epsilon}F(\mathbf{s}^{j-1/2})+\frac{1}{1-\epsilon}F(\mathbf{s}^{j-1}\sqcup\langle e^j,i&#39;\rangle)-2f(\mathbf{s}^{j-1})\\
    \leq&amp;\frac{2}{1-\epsilon}F(\mathbf{s}^j)-2f(\mathbf{s}^{j-1})\leq \frac{2(1+\epsilon)}{1-\epsilon}f(\mathbf{s}^j)-2f(\mathbf{s}^{j-1})
  \end{aligned}
\]</span></li>
<li><span class="math inline">\(\mathbf{o}^{j-1}(e^j)\in[k]\backslash\{i^j\}\)</span>. 这种情况表明 <span class="math inline">\(e^j\)</span> 从第 <span class="math inline">\(\mathbf{o}^{j-1}(e^j)\)</span> 个位置移动到了第 <span class="math inline">\(i^j\)</span> 位置上去. <span class="math display">\[
  \begin{aligned}
    f(\mathbf{o}^{j-1})-f(\mathbf{o}^{j})=&amp;2f(\mathbf{o}^{j-1})-2f(\mathbf{o}^{j-1/2})-\Big(f(\mathbf{o}^{j-1})+f(\mathbf{o}^j)-2f(\mathbf{o}^{j-1/2})\Big)\\
    \leq&amp;2f(\mathbf{o}^{j-1})-2f(\mathbf{o}^{j-1/2})\\
    \leq &amp;2f(\mathbf{s}^{j-1/2})-2f(\mathbf{s}^{j-1})\\
    \leq&amp;\frac{2}{1-\epsilon}F(\mathbf{s}^{j-1/2})-2f(\mathbf{s}^{j-1})\\
    \leq&amp;\frac{2}{1-\epsilon}F(\mathbf{s}^j)-2f(\mathbf{s}^{j-1})\leq \frac{2(1+\epsilon)}{1-\epsilon}f(\mathbf{s}^j)-2f(\mathbf{s}^{j-1})
  \end{aligned}
\]</span></li>
</ul>
<p>综上我们有 <span class="math display">\[
  \begin{aligned}
    f(\mathbf{o})-f(\mathbf{s})=&amp;\sum_{j=1}^B\Big(f(\mathbf{o}^{j-1})-f(\mathbf{o}^j)\Big)\leq2\sum_{j=1}^B\Big(\frac{1+\epsilon}{1-\epsilon}f(\mathbf{s}^{j})-f(\mathbf{s}^{j-1})\Big)\\
    \leq&amp;2\Big(\frac{1+\epsilon}{1-\epsilon}f(\mathbf{s})+\sum_{j=1}^B\frac{2\epsilon}{1-\epsilon}f(\mathbf{s}^{j})\Big)\leq\frac{2+2\epsilon+4\epsilon B}{1-\epsilon}f(\mathbf{s})
  \end{aligned}
\]</span> 得证.</p>
<details class="note default no-icon"><summary><p><strong>RMK 2</strong></p>
</summary>
<p>从这个证明可以看出非单调 <span class="math inline">\(k\)</span>-submodular 函数在 cardinality 约束下的近似比可达到 <span class="math inline">\(3\)</span>. 另外, 在 <span class="math inline">\(k=1\)</span> 时至少能做到 <span class="math inline">\(e\)</span> 的结果了 (见 <a href="https://theory.epfl.ch/moranfe/Publications/SODA2014.pdf">SODA2014 的一篇文章</a>).</p>

</details>
<h2 id="omitted-proofs">Omitted Proofs</h2>
<h3 id="proof-of-proposition-1">Proof of Proposition 1</h3>
<p>首先, 对 <span class="math inline">\(V\)</span> 做完一趟 pass 之后, <span class="math inline">\(|\mathbf{s}|\)</span> 可能达到也可能没达到满的 budget. 若 <span class="math inline">\(t=B\)</span>, 则 <span class="math display">\[
  f(\mathbf{s})\geq\frac{F(\mathbf{s}^B)}{1+\epsilon}\geq\frac{1-\epsilon}{1+\epsilon}B\frac{o}{M}\geq\frac{1-\epsilon}{1+\epsilon}\frac{f(\mathbf{o})}{(1+\gamma)M}
\]</span> 得到近似比之一 <span class="math inline">\((1+\epsilon)(1+\gamma)\frac{M}{1-\epsilon}\)</span>.</p>
<p>下面我们考虑 <span class="math inline">\(t&lt;B\)</span> 时的情况. 定义 <span class="math inline">\(\mathbf{o}^{j}=(\mathbf{o}\sqcup\mathbf{s}^j)\sqcup\mathbf{s}^{j}\)</span>.</p>
<div class="note "><h4 id="claim-1">Claim 1</h4>
<p><span class="math display">\[
  f(\mathbf{o})-f(\mathbf{o}^t)\leq\frac{1+\epsilon+2B\epsilon}{1-\epsilon}f(\mathbf{s})
\]</span></p>
</div>
<p><strong><em>Proof of Claim 1:</em></strong> 类似地, 我们记 <span class="math inline">\(\langle e^j,i^j\rangle\)</span> 是 Alg. 1 中第 <span class="math inline">\(j\)</span> 个加入的元素. 定义 <span class="math inline">\(\mathbf{o}^{j-1/2}=(\mathbf{o}\sqcup\mathbf{s}^j)\sqcup\mathbf{s}^{j-1}\)</span>. 进一步, 我们定义 <span class="math display">\[
    \mathbf{s}^{j-1/2}=\begin{cases}
      \mathbf{s}^{j-1}\sqcup\langle e^j,\mathbf{o}(e^j)\rangle,&amp;\text{if}\ e^j\in\text{supp}(\mathbf{o})\\
      \mathbf{s}^{j-1},&amp;\text{otherwise}
    \end{cases}
\]</span> 此时就有 <span class="math display">\[
  \begin{aligned}
    f(\mathbf{o}^{j-1})-f(\mathbf{o}^j)\leq&amp; f(\mathbf{o}^{j-1})-f(\mathbf{o}^{j-1/2})\\
    \leq&amp;f(\mathbf{s}^{j-1/2})-f(\mathbf{s}^{j-1})\\
    \leq&amp;\frac{1}{1-\epsilon}F(\mathbf{s}^{j-1/2})-f(\mathbf{s}^{j-1})\\
    \leq&amp;\frac{1}{1-\epsilon}F(\mathbf{s}^j)-f(\mathbf{s}^{j-1})\\
    \leq&amp;\frac{1+\epsilon}{1-\epsilon}f(\mathbf{s}^j)-f(\mathbf{s}^{j-1})
  \end{aligned}
\]</span> 因此 <span class="math display">\[
  \begin{aligned}
    f(\mathbf{o})-f(\mathbf{o}^t)=&amp;\sum_{j=1}^t\Big(f(\mathbf{o}^{j-1})-f(\mathbf{o}^j)\Big)\leq\sum_{j=1}^t\Big(\frac{1+\epsilon}{1-\epsilon}f(\mathbf{s}^j)-f(\mathbf{s}^{j-1})\Big)\\
    =&amp;\frac{1+\epsilon}{1-\epsilon}f(\mathbf{s})+\sum_{j=1}^{t-1}\frac{2\epsilon}{1-\epsilon}f(\mathbf{s}^j)\leq\frac{1+\epsilon+2B\epsilon}{1-\epsilon}f(\mathbf{s})
  \end{aligned}
\]</span> Claim 1 得证.</p>
<div class="note "><h4 id="claim-2">Claim 2</h4>
<p><span class="math display">\[
  f(\mathbf{o}^t)-f(\mathbf{s})\leq\frac{1}{M}f(\mathbf{o})+\frac{2\epsilon B}{1-\epsilon}f(\mathbf{s})
\]</span></p>
</div>
<p><strong><em>Proof of Claim 2:</em></strong> 由于 <span class="math inline">\(\mathbf{s}\sqsubseteq\mathbf{o}^t\)</span>, 用 <span class="math inline">\(\{\langle u_i,j_i\rangle\}_{j=1}^r\)</span> 表示 <span class="math inline">\(\text{supp}(\mathbf{o}^t)\backslash\text{supp}(\mathbf{s})\)</span> 中的元素及其位置, 然后我们用 <span class="math inline">\(\mathbf{s}_i\)</span> 表示 <span class="math inline">\(\mathbf{s}\)</span> 遇到 <span class="math inline">\(u_i\)</span> 时的值. 我们有 <span class="math display">\[
  \frac{F(\mathbf{s}_i\sqcup\langle u_i,j_i\rangle)}{1-\epsilon}-\frac{F(\mathbf{s}_i)}{1+\epsilon}\leq\frac{o}{M}+\frac{2\epsilon F(\mathbf{s}_i)}{1-\epsilon^2}
\]</span> 令 <span class="math inline">\(\mathbf{u}_i=\mathbf{s}\sqcup\{\langle u_1,j_i\rangle,\dots,\langle u_i,j_i\rangle\}\)</span>, 有 <span class="math display">\[
  \begin{aligned}
    f(\mathbf{o}^t)-f(\mathbf{s})=&amp;\sum_{i=1}^{B-t}\Big(f(\mathbf{u}_i)-f(\mathbf{u}_{i-1})\Big)\leq\sum_{i=1}^{B-t}\Big(f(\mathbf{s}_i\sqcup\langle u_i,j_i\rangle)-f(\mathbf{s}_{i})\Big)\\
    \leq&amp;\sum_{i=1}^{B-t}\Big(\frac{1}{1-\epsilon}F(\mathbf{s}_i\sqcup\langle u_i,j_i\rangle)-\frac{1}{1+\epsilon}F(\mathbf{s}^i)\Big)\leq\sum_{i=1}^{B-t}\Big(\frac{o}{M}+\frac{2\epsilon}{1-\epsilon^2}F(\mathbf{s}_i)\Big)\leq\frac{1}{M}f(\mathbf{o})+\frac{2\epsilon B}{1-\epsilon}f(\mathbf{s})
  \end{aligned}
\]</span> Claim 2 得证.</p>
<p>结合 Claim 1, Claim 2 就可完成 Proposition 1 的证明.</p>
<h3 id="proof-of-proposition-2">Proof of Proposition 2</h3>
<p>TBC.</p>
<h3 id="proof-of-proposition-3">Proof of Proposition 3</h3>
<p>TBC.</p>
]]></content>
      <categories>
        <category>学习</category>
        <category>算法</category>
      </categories>
      <tags>
        <tag>submodular maximization</tag>
        <tag>optimization</tag>
      </tags>
  </entry>
  <entry>
    <title>路人女主系列的尾声一 —— memorial 2 豪华版分享</title>
    <url>/2021/01/06/saekano_memorial2_comment_r1.0_s/</url>
    <content><![CDATA[<h2 id="序章">序章</h2>
<p>  新年伊始，预定的台版路人女主小说的最后一卷 memorial 2 的豪华版是终于到货了。原本想把去年到货的我惠手办和剧场版 BD 当作是我对这个系列的句点（因为这小说日版其实很早就发售了），但实际到手看过之后，觉得很有意思，就想拿出来再说一说。同时觉得角川还想用这个作品再捞一笔钱，比如没收录的剧场版特典和深琦暮人老师的路主画集，自己多半还要掏钱，所以我对这个系列到底哪里才算是真正的完结自己也不敢说死，姑且就写个“尾声一”吧。至于会不会有“尾声二”，看我心情随缘吧。</p>
<a id="more"></a>
<p><em>（画外音：是是是，都知道你很喜欢这部作品了，换些其他的作品好吗？）</em></p>
<p>  路人女主小说有 13 本没有后缀的<strong>无印</strong>（以男主为第一人称的故事本篇），3 本 <strong>girl side</strong>（简称 GS ，以各个女主为主要视点的故事本篇），2 本 <strong>FD</strong>（FD 为小说短篇合集，FD 2 为动画 BD 短篇合集）以及 2 本 <strong>memorial</strong>（主要收录了小说店铺和杂志附送特典，设定集，创作者访谈，新的小短篇等）构成。这次的 memorial 2 就收录了剧场版的一部分设定，写作“周边附送的特典”，实则为各种后日谈的短篇，剧场版的声优和制作者访谈，以及作为补充的新短篇。下文就打算以这次小说豪华版的内容和小说本身的内容来进行一下<strong>主观的、业余的、个人色彩浓厚的</strong>分享。</p>
<h2 id="豪华版简单开箱">豪华版简单开箱</h2>
<p>  这次豪华版的包装采用了台版轻小说常见的塑料盒子包装。背面可以看到小说的封面和这次豪华版里包含的内容——小说的特殊封面，卡套和挂饰。</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"><img src="/images/saenai_1.jpg" width="50%" style="display: inline-block" /><img src="/images/saenai_2.jpg" width="50%" style="display: inline-block" /></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><em>想到应该是最后一本就预定的豪华版，比起《天气之子》，感觉这次外包装挺简单的</em></td>
</tr>
</tbody>
</table>
<!-- ![想到应该是最后一本就预定的豪华版，比起《天气之子》，感觉这次外包装挺简单的](saenai 1&2.jpg) -->
<p>  这次小说封面我个人很喜欢，深崎暮人老师笔下的加藤还是一如既往的好看<em>（应该没带惠痴眼镜，真的……大概……至少有一点点没带）</em>。有趣的是，也不知道是不是深崎暮人老师故意地，这次设计的加藤的站姿与第一卷英梨梨的站姿很相似，暗示“加藤取代了英梨梨在安艺心中的位置”？何迫梨啊wwww……</p>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><img src="/images/saenai_3.png" width="50%" style="display: inline-block" /><img src="/images/saenai_4.jpg" width="50%" style="display: inline-block" /></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><em>左为 memorial 2 的封面站姿，右为 小说第 1 卷的封面站姿，虽然能理解深崎暮人老师在 13 卷操了很多心，这么对比来看仍觉得是满满的恶意啊</em></td>
</tr>
</tbody>
</table>
<!-- ![左为 memorial 2 的封面站姿，右为 小说第 1 卷的封面站姿，虽然能理解深崎暮人老师在13卷操了很多心，这么对比来看仍觉得是满满的恶意啊](saenai 3&4.jpg) -->
<p>  打开盒子变能看到本次豪华版的内容物——豪华版特殊封面的小说和小周边。由于手上没有普通版的，所以这个特殊封面有啥不同我也不清楚，这里就忽略了。小周边为印有加藤惠的亚克力卡套和挂牌，有一说一，作为锁扣的挂牌可以说经常见到，亚克力卡套我还是第一次见。一开始这玩意儿既宅还粉我觉得蛮羞耻的不敢用，但最后觉得反正认识自己的人都知道我是个没救的阿宅，就拿来装饭卡了<em>（只要自己觉得不尴尬，尴尬的就是别人.jpg）</em></p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"><img src="/images/saenai_5.jpg" width="50%" style="display: inline-block" /><img src="/images/saenai_6.jpg" width="50%" style="display: inline-block" /></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><em>卡套的正面：与封面相同的加藤惠；挂牌与卡套的背面：大大的 blessing software 社团的 logo 镂空里面可以看到自己的校园卡</em></td>
</tr>
</tbody>
</table>
<!-- ![](saenai 5&6.jpg) -->
<p>  这次豪华版的内容物不算多，我个人感觉还行，但感觉真的溢价，价钱差不多是普通版的一倍多，如果不是我这种作品厨，带收藏性质的话，建议还是卖普通版吧<em>（真的会有人吃了我的安利会买吗？）</em>。重点还是这本小说的内容。</p>
<h2 id="小说内容的感想和吐槽">小说内容的感想和吐槽</h2>
<p>  前面也提了，memorial 2 说是小说，准确来讲应该是各种乱七八糟东西的大杂烩，这里我都拿我印象最深的部分说一下。</p>
<p>  对于<strong>设定集</strong>部分，印象最深当然还是深崎暮人老师对剧场版最后各个角色成人后的设定。看过剧场版的朋友大概知道都长得啥样，但深崎老师的原设感觉比动画更好看就离谱。惠看起来更加人妻化，这真的是之前姿色中等偏上的路人女主吗<em>（捂脸）</em>。英梨梨和学姐的成人后模样原来是参考了红坂朱音和町田苑子的模样吗，这啥？剩斗士联盟的传承吗？太惨了吧。出海和美智留的部分都刻意强调了“动不动泡在安艺房间”这一点，啊这，牛头人狂喜. jpg。至于两个大老爷们儿，这俩帅哥除了发型变了，真的有变化吗……</p>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><img src="/images/saenai_7.jpeg" width="45%" style="display: inline-block" /><img src="/images/saenai_8.jpeg" width="45%" style="display: inline-block" /><img src="/images/saenai_9.jpeg" width="45%" style="display: inline-block" /></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><em>果然长发的惠更符合我的口味，长发放下来的英梨梨也好看，好吧，我承认我是长直控啦！齐肩短发的学姐看起来阳光成熟了很多，但是作为标志性的白色发带却没了……算了黑丝还在就无所谓吧</em></td>
</tr>
</tbody>
</table>
<!-- 
![果然长发的惠更符合我的口味，长发放下来的英梨梨也好看，好吧，我承认我是长直控啦！齐肩短发的学姐看起来阳光成熟了很多，但是作为标志性的白色发带却没了……算了黑丝还在就无所谓吧](saenai 7&8&9.jpg) -->
<p>  对于<strong>特典小说</strong>部分，个人觉得都比较有意思，通篇插科打诨，一扫小说后期的沉重部分。但这里我肯定只会说学姐和惠的篇章，哈？英梨梨？这人谁啊？<em>（泥垢啦！）</em>学姐的短篇为《爱与青春的节拍器》和《恋爱与纯情的节拍器》，加起来不过 10 页，并且内容如其标题，就是赤裸裸的外传漫画《恋爱节拍器》的硬推广，甚至开头和结尾都一模一样然后被安艺吐槽是最骚的。有趣的其实是作为外传的学姐和伦理君去看两季 TV 第 0 话，表面相同内核不同的人物看自己在动画表现的感想和吐槽<em>（所以这也算是 TV 动画的逆推广？）</em>。</p>
<blockquote>
<p>不，我才不认同自己在动画中会像这样被安排成卖肉主力的女二。我不认同！  ——霞之丘诗羽《爱与青春的节拍器》</p>
<p>可是动画和原作的那家伙跟我不一样，风评很糟糕啊！  ——安艺伦也《恋爱与纯情的节拍器》</p>
</blockquote>
<p>  话说丸户老贼你知道学姐在正篇是“卖肉主力”啊！知道的话就少写一些擦边球啊喂。就因为擦边球太多，我安利向别人这作品都超困难的<em>（哭）</em>。并且你知道伦理君在小说和动画的风评糟糕啊！既然知道就不要这么卖力朝着那方向塑造啊喂！亲女儿加藤惠的风评也会收到男主的风评影响啊<em>（掀桌）</em>。 说句题外话，《恋爱节拍器》的漫画作画 <strong>武者サブ</strong> 老师和作者 <strong>丸户史明</strong> 的这对搭档的新作《 媒体组合少女》也终于开始连载了，现在大妈之家就能看第 1 话，感兴趣的朋友可以去康康。</p>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><img src="/images/saenai_10.jpg" width="50%" style="display: inline-block" /><img src="/images/saenai_11.jpg" width="50%" style="display: inline-block" /></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><em>恋节组合的新作：大学刚毕业的男主长濑宏太第一话就阴差阳错就当上了社长，似李，假面骑士零一，修玛吉亚是U咩……咳咳，抱歉，DNA动了。女主之一安藤凪纱标志性的黑长直加黑丝，同时还是小说编辑，不愧是你，丸户史明</em></td>
</tr>
</tbody>
</table>
<!-- ![恋节组合的新作：大学刚毕业的男主长濑宏太第一话就阴差阳错就当上了社长，似李，假面骑士零一，修玛吉亚是U咩……咳咳，抱歉，DNA动了。女主之一安藤凪纱标志性的黑长直加黑丝，同时还是小说编辑，不愧是你，丸户史明](saenai 10&11.jpg) -->
<p>  至于我惠的短篇，用一句话来说就是<strong>“比本篇的互动更甜，更工口。渡航求求你让丸户教你如何写后日谈吧”</strong>。内容覆盖体操服挂画推广，礼服挂画推广，沙滩挂画推广，睡衣挂画推广等，时间则大多在安艺伦也复读到大学一年级期间，最后新增的短篇则是补充了安艺伦也大学二年级第一次负责商业游戏制作的故事<em>（打工人的开始）</em>。讲真，丸户的执念到底有多深啊，别的恋爱系作品要么成双成对点到为止，到了丸户这里硬是从本篇结束到最后新旧 blessing software 社团重聚每个时间段不落都给你交代得明明白白的，剧场版特典以为是从安艺考上大学到成人礼开始跳过了一段时间，memorial 2 通通给你补上了，这就是黄油剧本家的时间管理能力吗，👴是真滴佛了。</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"><img src="/images/saenai_12.png" width="50%" style="display: inline-block" /><img src="/images/saenai_13.png" width="50%" style="display: inline-block" /></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><em>深崎暮人笔下的体操服加藤和泳装加藤，丸户史明看图说话，前者“独占厨”甜的掉牙，后者海边洞窟留白无限遐想</em></td>
</tr>
</tbody>
</table>
<!-- 
![深崎暮人笔下的体操服加藤和泳装加藤，丸户史明看图说话，前者“独占厨”甜的掉牙，后者海边洞窟留白无限遐想](saenai 10&11.jpg) -->
<p>  并且短篇《不起眼 Fantasia 感谢祭 2017》，《不起眼 DRAGON MAGAZINE 2018 7月号》以及《不起眼代笔者担任法》可以明显看出，自从身为自己化身的霞之丘诗羽戏份减少后，本应为黄油作家的丸户史明老师将无处释放的 <strong>GHS欲望</strong> 终于转向了加藤和安艺两人。可以的，一看就知道丸户老师写面向青少年的轻小说憋得太久了，索性就在短篇放飞自我了，但是不要刚好停在关键的地方好吗？</p>
<blockquote>
<p>——欸，伦也。</p>
<p>——怎样啦？</p>
<p>——哪里有洞窟，要不要过去看看？</p>
<p>——什……</p>
<p>接着，她突然从正面看向我的眼睛，一面紧紧握住我的手，一面扔下了轻小说不该扔下的震撼弹。</p>
<p>……很遗憾，指定的字数写到这里就满了。</p>
<p>若有意见请洽交代格式的 Fantasia 文库编辑部。</p>
<p>——————————《不起眼 Fantasia 感谢祭 2017》</p>
<p><strong><em>最后的中断借口在短篇《不起眼 DRAGON MAGAZINE 2018 7月号》也有出现</em></strong>。</p>
</blockquote>
<blockquote>
<p>顺带一提，某项传统（新年第一〇）依习俗是在一月二日，因此这不能算在内。</p>
<p>——————————《不起眼代笔者担任法》</p>
<p><strong><em>该说不愧是 30 禁作者吗，前文交代了安艺认为新年第一天应该陪父母，这里刻意的马赛克加指代不明的”传统“让人浮想联翩 wwww。</em></strong></p>
</blockquote>
<p>  最后就是对于<strong>剧场版相关访谈</strong>方面。动画声优的采访让人感觉到一股子莫名的正经，脑子里面极容易会想起 FD 的第 2 篇（对应到 TV 第 1 季前几集）安艺采访诗羽的场景，就算不着边际的话也能改的很漂亮。老实说乐子挺少的，为啥不直接看生放送，公开调戏 “伦理君” 多有意思<em>（梅林腰上别着欧布圆环，手持破坏大剑，向我冲了过来）</em>。乐子较多还是导演，原作者和插画师关于剧场版 Fine 的专访，除了导演和插画师满满的干货，仍然延续了这作品企划之初专访的欢乐风格<em>（详情参见 memorial 1）</em>。</p>
<blockquote>
<p>至于丸户先生……连制作电视剧集时，好像也只提到过 “请容我对丝袜的描写说几句话。”……我记得的顶多就这样而已。</p>
<p>——————————龟井干太《导演&amp;原作者专访》</p>
<p><strong><em>不是，丸户老贼你到底有多执着于这个方面啊……另外，该说不愧是原作者的化身吗，谁是里之女主我就不用多说了吧，英梨梨？这人谁啊？（还要再玩这个梗吗？）</em></strong></p>
</blockquote>
<p>  原作者丸户史明的部分比起正经讲述，他的发言简直就是整活和名言的集合体，我随便拿出几段感受一下吧。</p>
<blockquote>
<p>我认为处男感越强的人，对那一幕（指数“1 2 3”后接吻的戏）越会有深刻感触。</p>
<p><strong><em>谢谢丸户老师，有被内涵到。</em></strong></p>
<p>这（指车站十字相扣）真的可以往电影里演吗？有的部分我也如此顾虑过，从那个角度来看，我认为这部电影不行算 “光明磊落” 的电影。</p>
<p><strong><em>我前面就吐槽过，既然知道的话就少出现一些这种令人误解的片段啊。</em></strong></p>
<p>我认为自己一直以来都不希望伦也被讨厌，也始终努力不让他被讨厌，但实在是不容易。果然伦也的性格就是不受管控。</p>
<p><strong><em>这究竟是谁的错啊？</em></strong></p>
<p>只不过，要求用 10 分钟左右的片长来演众角色成熟后的场景，就是出自我的任性了。而且连妄想题材都包括在内（笑）。</p>
<p><strong><em>《路人女主的养成方法：coda篇》堂堂连载！老实说，我当初看到那里真的被吓到。</em></strong></p>
<p>英梨梨落到这番地步真的很可怜呢。该说她错失了不少时机吗……还是错失机运和缘分呢？</p>
<p><strong><em>所<sub>以</sub>说~（敲黑板），这究竟是谁的错啊？</em></strong></p>
<p>———————————丸户史明《导演&amp;原作者专访》</p>
</blockquote>
<p>  丸户老师同时也透露了剧场版最后的彩蛋里面动画制作组和声优玩得很嗨的场景，深崎老师也透露了自己打算在《路主》画集上让英梨梨获得幸福<em>（看来还是生父疼亲女儿啊。莫非指的是第 9 卷的那个 if 结局？这样使得我不得不掏腰包买画集了吗）</em>。再次感谢各位创作者和参与者在《路主》这部作品上投入的心血了。</p>
<h2 id="尾声的尾声但愿这就是最后了">尾声的尾声（但愿这就是最后了）</h2>
<p>  新年的第一篇的博客到这里总算是写完了。俗话说“有了‘尾声一的尾声’，必然会有‘尾声二的尾声’和‘尾声X的尾声’”，为了避免这种事出现，所以这里就直接定义为“尾声的尾声”了。</p>
<p>  起初是打算写一些非宅的东西，但想想自己好像除了 ACGN 基本就是个白板<em>（唉，自己学习工作都是个白板就令我很无语）</em>，恰巧手上正好有这次的素材，自己看完又开始火力全开状态<em>（绝对不是因为催稿现成找的，绝对不是）</em>。</p>
<p>  这一次也破天荒地尝试了用 Typora 来写博客，以前都是用 Word 的，我为了适应新的工具在格式上花了挺多精力的，应该还能让人接受吧。</p>
<p>  下次还是打算久违地开开新坑吧，一月新番有我关注了很久的《弱势角色友崎君》，也一直没看完原作，追番的同时把小说给补了，没准也能写几篇呢？<em>（笑，好久没立过这样的 flag 了）</em></p>
]]></content>
      <categories>
        <category>杂谈</category>
        <category>acg</category>
      </categories>
      <tags>
        <tag>lightnovel</tag>
      </tags>
  </entry>
</search>
